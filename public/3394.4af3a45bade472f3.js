"use strict";(self.webpackChunkhmfront=self.webpackChunkhmfront||[]).push([[3394],{3394:(Ae,x,o)=>{o.r(x),o.d(x,{ServicesModule:()=>Re});var d=o(177),s=o(9417),u=o(8498),S=o(4275),k=o(1413),g=o(6977),e=o(7705),b=o(8737),I=o(8281),y=o(5416),M=o(9213),h=o(8834),E=o(2154),R=o(8420),P=o(9631),p=o(882),O=o(9183);function j(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Service Name is "),e.j41(2,"strong"),e.EFF(3,"required"),e.k0s()())}function N(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Service Description is "),e.j41(2,"strong"),e.EFF(3,"required"),e.k0s()())}function B(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Price is "),e.j41(2,"strong"),e.EFF(3,"required"),e.k0s()())}function T(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Price must be a positive number "),e.k0s())}function G(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid email address "),e.k0s())}function $(r,a){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&r){const t=a.$implicit;e.R7$(1),e.Lme("",t.name," (",(t.size/1024/1024).toFixed(2)," MB)")}}function X(r,a){if(1&r&&(e.j41(0,"div",25),e.DNE(1,$,2,2,"span",26),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.selectedFiles)}}function V(r,a){1&r&&e.nrm(0,"mat-spinner",27)}function Y(r,a){1&r&&(e.j41(0,"span"),e.EFF(1,"Create Service"),e.k0s())}let A=(()=>{class r{constructor(t,i,n,c,l,m){this.fb=t,this.serviceService=i,this.categoryService=n,this.router=c,this.route=l,this.snackBar=m,this.selectedFiles=[],this.categories=[],this.loading=!1,this.isEditMode=!1,this.existingService=null,this.availableRegions=[],this.destroy$=new k.B}ngOnInit(){if(this.route.data.pipe((0,g.Q)(this.destroy$)).subscribe(t=>{this.isEditMode=t.editMode||!1}),this.loadAvailableRegions(),this.serviceForm=this.fb.group({serviceName:["",s.k0.required],serviceDesc:["",s.k0.required],price:[0,[s.k0.required,s.k0.min(0)]],categoryCustomIdentifier:[""],availableRegions:[[]],contactPhone:[""],contactEmail:["",s.k0.email]}),this.loadCategories(),this.isEditMode){const t=this.route.snapshot.paramMap.get("customIdentifier");t&&this.loadServiceForEdit(t)}}loadCategories(){this.categoryService.getServiceCategories({active:!0}).pipe((0,g.Q)(this.destroy$)).subscribe(t=>{t&&Array.isArray(t)?this.categories=t.filter(i=>i.isActive):t&&Array.isArray(t.categories)?this.categories=t.categories.filter(i=>i.isActive):(console.error("Unexpected response format from service categories API:",t),this.categories=[]),console.log("Loaded service categories:",this.categories)},t=>{console.error("Error fetching service categories:",t),this.snackBar.open("Failed to load service categories.","Close",{duration:3e3})})}loadServiceForEdit(t){this.loading=!0,this.serviceService.getServiceByCustomIdentifier(t).pipe((0,g.Q)(this.destroy$)).subscribe(i=>{this.existingService=i,this.selectedFiles=[],this.serviceForm.patchValue({serviceName:i.serviceName,serviceDesc:i.serviceDesc,price:i.price,categoryCustomIdentifier:i.category?.customIdentifier||"",availableRegions:i.availableRegions||[],contactPhone:i.contactInfo?.phone||"",contactEmail:i.contactInfo?.email||""}),this.loading=!1},i=>{console.error("Error loading service for edit:",i),this.snackBar.open("Failed to load service for editing.","Close",{duration:3e3}),this.loading=!1})}onFileSelected(t){this.selectedFiles=Array.from(t.target.files)}onSubmit(){if(this.serviceForm.invalid)return this.serviceForm.markAllAsTouched(),void this.snackBar.open("Please fill in all required fields correctly.","Close",{duration:3e3});this.loading=!0;const t=new FormData;t.append("serviceName",this.serviceForm.get("serviceName")?.value),t.append("serviceDesc",this.serviceForm.get("serviceDesc")?.value),t.append("price",this.serviceForm.get("price")?.value),this.serviceForm.get("categoryCustomIdentifier")?.value&&t.append("categoryCustomIdentifier",this.serviceForm.get("categoryCustomIdentifier")?.value);const i=this.serviceForm.get("availableRegions")?.value;i&&i.length>0&&t.append("availableRegions",JSON.stringify(i)),this.serviceForm.get("contactPhone")?.value&&t.append("contactPhone",this.serviceForm.get("contactPhone")?.value),this.serviceForm.get("contactEmail")?.value&&t.append("contactEmail",this.serviceForm.get("contactEmail")?.value),this.selectedFiles.forEach(n=>{t.append("images",n,n.name)}),this.isEditMode&&this.existingService?this.serviceService.updateService(this.existingService.customIdentifier,t).pipe((0,g.Q)(this.destroy$)).subscribe(n=>{this.snackBar.open("Service updated successfully!","Close",{duration:3e3}),this.router.navigate(["/services/list"])},n=>{console.error("Error updating service:",n),this.snackBar.open("Failed to update service.","Close",{duration:3e3}),this.loading=!1}):this.serviceService.createService(t).pipe((0,g.Q)(this.destroy$)).subscribe(n=>{this.snackBar.open("Service created successfully! Awaiting admin approval.","Close",{duration:3e3}),this.router.navigate(["/services/list"])},n=>{console.error("Error creating service:",n),this.snackBar.open("Failed to create service.","Close",{duration:3e3}),this.loading=!1})}loadAvailableRegions(){this.availableRegions=["Delhi","Mumbai","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivli","Vasai-Virar","Varanasi","Amritsar","Allahabad","Ranchi","Howrah","Coimbatore","Jabalpur","Gwalior","Vijayawada","Jodhpur","Madurai","Raipur","Kota","Guwahati","Chandigarh","Solapur","Hubli-Dharwad","Bareilly","Moradabad","Mysore","Gurgaon","Aligarh","Jalandhar","Tiruchirappalli","Bhubaneswar","Salem","Mira-Bhayandar","Warangal","Thiruvananthapuram","Bhiwandi","Saharanpur","Gorakhpur","Guntur","Bikaner","Amravati","Noida","Jamshedpur","Bhilai","Cuttack","Firozabad","Kochi","Nellore","Bhavnagar","Dehradun","Durgapur","Asansol","Rourkela","Nanded","Kolhapur","Ajmer","Akola","Gulbarga","Jamnagar","Ujjain","Loni","Siliguri","Jhansi","Ulhasnagar","Sangli-Miraj & Kupwad","Tirupati","Malegaon","Jammu","Belgaum","Mangalore","Ambattur","Tirunelveli","Shahjahanpur","Bhiwandi-Nizampur","Purnia","Muzaffarpur","Raebareli","Panihati","Latur","Dhule","Tirupur","Sagar","Bhagalpur","Panchkula","Aurangabad","Bankura","Naihati","Serampore","North Dumdum","Bhatpara","Maheshtala","Hapur","Bihar Sharif","Sambalpur","Bardhaman","Raebareli","Kanchipuram","Vellore","Kirari Suleman Nagar"]}onRegionChange(t){console.log("onRegionChange called with:",t),null===t?this.serviceForm.get("availableRegions")?.setValue([]):Array.isArray(t)?this.serviceForm.get("availableRegions")?.setValue(t):this.serviceForm.get("availableRegions")?.setValue([t])}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(s.ok),e.rXU(b.N),e.rXU(I.z),e.rXU(u.Ix),e.rXU(u.nX),e.rXU(y.UG))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-service-create"]],decls:55,vars:20,consts:[[1,"create-service-container"],[1,"service-form",3,"formGroup","ngSubmit"],["appearance","outline",1,"full-width-field"],["matInput","","formControlName","serviceName","placeholder","e.g., House Cleaning, Plumbing Service"],[4,"ngIf"],["matInput","","formControlName","serviceDesc","placeholder","Provide a detailed description of the service","rows","4"],["appearance","outline",1,"half-width-field"],["matInput","","type","number","formControlName","price","placeholder","e.g., 500"],[1,"field-label"],["formControlName","categoryCustomIdentifier","placeholder","Choose a category that best fits your service",1,"full-width-field",3,"categories","showAllOption","searchable","showIcons","multiple"],[1,"regions-selector-container"],["formControlName","availableRegions","placeholder","Select cities where you provide services","allOptionText","All India",3,"regions","showAllOption","searchable","multiple","maxSelections","selectionChange"],[1,"contact-info-group"],["matInput","","formControlName","contactPhone","placeholder","e.g., +91 9876543210"],["matInput","","type","email","formControlName","contactEmail","placeholder","e.g., service@example.com"],[1,"image-upload-section"],[1,"file-input-label"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],["fileInput",""],["mat-raised-button","","color","primary","type","button",3,"click"],["class","selected-files",4,"ngIf"],[1,"form-actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20",4,"ngIf"],["mat-stroked-button","","type","button","routerLink","/services/list"],[1,"selected-files"],[4,"ngFor","ngForOf"],["diameter","20"]],template:function(i,n){if(1&i){const c=e.RV6();e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Create New Service"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(4,"mat-form-field",2)(5,"mat-label"),e.EFF(6,"Service Name"),e.k0s(),e.nrm(7,"input",3),e.DNE(8,j,4,0,"mat-error",4),e.k0s(),e.j41(9,"mat-form-field",2)(10,"mat-label"),e.EFF(11,"Service Description"),e.k0s(),e.nrm(12,"textarea",5),e.DNE(13,N,4,0,"mat-error",4),e.k0s(),e.j41(14,"mat-form-field",6)(15,"mat-label"),e.EFF(16,"Price (INR)"),e.k0s(),e.nrm(17,"input",7),e.DNE(18,B,4,0,"mat-error",4),e.DNE(19,T,2,0,"mat-error",4),e.k0s(),e.j41(20,"label",8),e.EFF(21,"Service Category"),e.k0s(),e.nrm(22,"app-custom-category-selector",9),e.j41(23,"div",10)(24,"label",8),e.EFF(25,"Available Regions"),e.k0s(),e.j41(26,"app-custom-regions-selector",11),e.bIt("selectionChange",function(m){return n.onRegionChange(m)}),e.k0s(),e.j41(27,"mat-hint"),e.EFF(28,'Select specific cities or choose "All India" for nationwide service'),e.k0s()(),e.j41(29,"div",12)(30,"mat-form-field",6)(31,"mat-label"),e.EFF(32,"Contact Phone (Optional)"),e.k0s(),e.nrm(33,"input",13),e.k0s(),e.j41(34,"mat-form-field",6)(35,"mat-label"),e.EFF(36,"Contact Email (Optional)"),e.k0s(),e.nrm(37,"input",14),e.DNE(38,G,2,0,"mat-error",4),e.k0s()(),e.j41(39,"div",15)(40,"label",16),e.EFF(41,"Upload Images (Max 10)"),e.k0s(),e.j41(42,"input",17,18),e.bIt("change",function(m){return n.onFileSelected(m)}),e.k0s(),e.j41(44,"button",19),e.bIt("click",function(){e.eBV(c);const m=e.sdS(43);return e.Njj(m.click())}),e.j41(45,"mat-icon"),e.EFF(46,"cloud_upload"),e.k0s(),e.EFF(47," Choose Files "),e.k0s(),e.DNE(48,X,2,1,"div",20),e.k0s(),e.j41(49,"div",21)(50,"button",22),e.DNE(51,V,1,0,"mat-spinner",23),e.DNE(52,Y,2,0,"span",4),e.k0s(),e.j41(53,"button",24),e.EFF(54,"Back to List"),e.k0s()()()()}if(2&i){let c,l,m,C,w;e.R7$(3),e.Y8G("formGroup",n.serviceForm),e.R7$(5),e.Y8G("ngIf",null==(c=n.serviceForm.get("serviceName"))?null:c.hasError("required")),e.R7$(5),e.Y8G("ngIf",null==(l=n.serviceForm.get("serviceDesc"))?null:l.hasError("required")),e.R7$(5),e.Y8G("ngIf",null==(m=n.serviceForm.get("price"))?null:m.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(C=n.serviceForm.get("price"))?null:C.hasError("min")),e.R7$(3),e.Y8G("categories",n.categories)("showAllOption",!1)("searchable",!0)("showIcons",!0)("multiple",!1),e.R7$(4),e.Y8G("regions",n.availableRegions)("showAllOption",!0)("searchable",!0)("multiple",!0)("maxSelections",10),e.R7$(12),e.Y8G("ngIf",null==(w=n.serviceForm.get("contactEmail"))?null:w.hasError("email")),e.R7$(10),e.Y8G("ngIf",n.selectedFiles.length>0),e.R7$(2),e.Y8G("disabled",n.serviceForm.invalid||n.loading),e.R7$(1),e.Y8G("ngIf",n.loading),e.R7$(1),e.Y8G("ngIf",!n.loading)}},dependencies:[d.Sq,d.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.j4,s.JD,u.Wk,M.An,h.$z,E.a,R.V,P.fg,p.rl,p.nJ,p.MV,p.TL,O.LG],styles:[".create-service-container[_ngcontent-%COMP%]{padding:20px;margin:0;width:80%;left:0;min-height:calc(100vh - 64px);border-radius:8px;box-shadow:var(--mat-elevation-z2);background-color:var(--mat-card-background);color:var(--mat-card-text)}.create-service-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;margin-bottom:25px;color:var(--mat-card-title);text-align:center}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .full-width-field[_ngcontent-%COMP%], .create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .half-width-field[_ngcontent-%COMP%]{width:100%}@media (min-width: 600px){.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .half-width-field[_ngcontent-%COMP%]{width:calc(50% - 10px)}}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .contact-info-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .contact-info-group[_ngcontent-%COMP%]   .half-width-field[_ngcontent-%COMP%]{width:100%}@media (min-width: 600px){.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .contact-info-group[_ngcontent-%COMP%]   .half-width-field[_ngcontent-%COMP%]{flex:1}}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .regions-selector-container[_ngcontent-%COMP%]{margin-bottom:15px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .regions-selector-container[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#000000de;margin-bottom:8px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .regions-selector-container[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-top:8px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-top:10px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .file-input-label[_ngcontent-%COMP%]{font-weight:500;color:var(--mat-card-subtitle)}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .selected-files[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;font-size:.9em;color:var(--mat-card-subtitle)}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .selected-files[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--mat-chip-background);padding:5px 8px;border-radius:4px;word-break:break-all}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-spinner[_ngcontent-%COMP%]{margin-right:8px}.create-service-container[_ngcontent-%COMP%]   .service-form[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}@media (max-width: 768px){.create-service-container[_ngcontent-%COMP%]{width:95%;margin:10px auto;padding:15px}.service-form[_ngcontent-%COMP%]{gap:10px}.service-form[_ngcontent-%COMP%]   .contact-info-group[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.service-form[_ngcontent-%COMP%]   .contact-info-group[_ngcontent-%COMP%]   .half-width-field[_ngcontent-%COMP%]{width:100%}.service-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.service-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:unset}h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:20px}}@media screen and (orientation: portrait){.contact-info-group[_ngcontent-%COMP%]{margin-top:1rem}}"]})}}return r})();var z=o(524),v=o(5596),D=o(4823),F=o(6471);function U(r,a){1&r&&(e.j41(0,"div",3),e.nrm(1,"mat-spinner"),e.k0s())}function J(r,a){1&r&&(e.j41(0,"mat-icon",25),e.EFF(1,"check_circle"),e.k0s())}function L(r,a){1&r&&(e.j41(0,"mat-icon",26),e.EFF(1,"hourglass_empty"),e.k0s())}function K(r,a){1&r&&(e.j41(0,"mat-icon",27),e.EFF(1,"toggle_on"),e.k0s())}function H(r,a){1&r&&(e.j41(0,"mat-icon",28),e.EFF(1,"toggle_off"),e.k0s())}function Q(r,a){if(1&r&&(e.j41(0,"div",20),e.DNE(1,J,2,0,"mat-icon",21),e.DNE(2,L,2,0,"mat-icon",22),e.DNE(3,K,2,0,"mat-icon",23),e.DNE(4,H,2,0,"mat-icon",24),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.service.isApproved),e.R7$(1),e.Y8G("ngIf",!t.service.isApproved),e.R7$(1),e.Y8G("ngIf",t.service.isActive),e.R7$(1),e.Y8G("ngIf",!t.service.isActive)}}function Z(r,a){1&r&&e.nrm(0,"img",31),2&r&&e.Y8G("src",a.$implicit,e.B4B)}function q(r,a){if(1&r&&(e.j41(0,"div",29),e.DNE(1,Z,1,1,"img",30),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.service.images)}}function W(r,a){1&r&&e.nrm(0,"img",32)}function ee(r,a){if(1&r&&(e.j41(0,"mat-chip-set")(1,"mat-chip",33)(2,"mat-icon"),e.EFF(3,"category"),e.k0s(),e.EFF(4),e.k0s()()),2&r){const t=e.XpG(2);e.R7$(4),e.SpI(" ",t.service.category.name," ")}}function te(r,a){1&r&&(e.j41(0,"span"),e.EFF(1,"Uncategorized"),e.k0s())}function re(r,a){1&r&&(e.j41(0,"p")(1,"strong"),e.EFF(2,"Available Regions:"),e.k0s(),e.EFF(3," All India"),e.k0s())}function ie(r,a){if(1&r&&(e.j41(0,"p")(1,"strong"),e.EFF(2,"Available Regions:"),e.k0s(),e.EFF(3),e.k0s()),2&r){const t=e.XpG(2);e.R7$(3),e.SpI(" ",t.service.availableRegions.join(", "),"")}}function ne(r,a){1&r&&(e.j41(0,"p")(1,"strong"),e.EFF(2,"Available Regions:"),e.k0s(),e.EFF(3," N/A"),e.k0s())}function ae(r,a){if(1&r){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSubmit())}),e.EFF(1," Update Service "),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.serviceForm.invalid)}}function oe(r,a){if(1&r){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.deleteService())}),e.EFF(1," Delete Service "),e.k0s()}}function se(r,a){if(1&r){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.approveService())}),e.EFF(1," Approve Service "),e.k0s()}}function ce(r,a){if(1&r){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.toggleServiceStatus())}),e.EFF(1),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("color",t.service.isActive?"warn":"primary"),e.R7$(1),e.SpI(" ",t.service.isActive?"Deactivate":"Activate"," Service ")}}function le(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1,"Name is required"),e.k0s())}function me(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1,"Description is required"),e.k0s())}function de(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1,"Price is required"),e.k0s())}function ge(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1,"Price cannot be negative"),e.k0s())}function pe(r,a){1&r&&(e.j41(0,"mat-error"),e.EFF(1,"Please enter a valid email"),e.k0s())}function ue(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",58),e.nrm(1,"img",31),e.j41(2,"button",59),e.bIt("click",function(){const c=e.eBV(t).$implicit,l=e.XpG(4);return e.Njj(l.removeExistingImage(c))}),e.j41(3,"mat-icon"),e.EFF(4,"delete"),e.k0s()()()}if(2&r){const t=a.$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function ve(r,a){if(1&r&&(e.j41(0,"div",56),e.DNE(1,ue,5,1,"div",57),e.k0s()),2&r){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.existingImages)}}function fe(r,a){if(1&r){const t=e.RV6();e.j41(0,"mat-card",37)(1,"mat-card-header")(2,"mat-card-title"),e.EFF(3,"Edit Service"),e.k0s()(),e.j41(4,"mat-card-content")(5,"form",38)(6,"mat-form-field",39)(7,"mat-label"),e.EFF(8,"Service Name"),e.k0s(),e.nrm(9,"input",40),e.DNE(10,le,2,0,"mat-error",12),e.k0s(),e.j41(11,"mat-form-field",39)(12,"mat-label"),e.EFF(13,"Description"),e.k0s(),e.nrm(14,"textarea",41),e.DNE(15,me,2,0,"mat-error",12),e.k0s(),e.j41(16,"mat-form-field",42)(17,"mat-label"),e.EFF(18,"Price (INR)"),e.k0s(),e.nrm(19,"input",43),e.DNE(20,de,2,0,"mat-error",12),e.DNE(21,ge,2,0,"mat-error",12),e.k0s(),e.j41(22,"div",44)(23,"label",45),e.EFF(24,"Service Category"),e.k0s(),e.j41(25,"app-custom-category-selector",46),e.bIt("selectionChange",function(n){e.eBV(t);const c=e.XpG(2);return e.Njj(c.onCategorySelect(n))}),e.k0s()(),e.j41(26,"div",47)(27,"label",45),e.EFF(28,"Available Regions"),e.k0s(),e.j41(29,"app-custom-regions-selector",48),e.bIt("selectionChange",function(n){e.eBV(t);const c=e.XpG(2);return e.Njj(c.onRegionChange(n))}),e.k0s(),e.j41(30,"mat-hint"),e.EFF(31,'Select specific cities or choose "All India" for nationwide service'),e.k0s()(),e.j41(32,"mat-form-field",42)(33,"mat-label"),e.EFF(34,"Contact Phone"),e.k0s(),e.nrm(35,"input",49),e.k0s(),e.j41(36,"mat-form-field",42)(37,"mat-label"),e.EFF(38,"Contact Email"),e.k0s(),e.nrm(39,"input",50),e.DNE(40,pe,2,0,"mat-error",12),e.k0s(),e.j41(41,"div",51)(42,"h3"),e.EFF(43,"Service Images"),e.k0s(),e.DNE(44,ve,2,1,"div",52),e.j41(45,"div",53)(46,"label"),e.EFF(47,"Replace or Add Images:"),e.k0s(),e.j41(48,"input",54),e.bIt("change",function(n){e.eBV(t);const c=e.XpG(2);return e.Njj(c.onFileSelected(n))}),e.k0s(),e.j41(49,"p",55),e.EFF(50,"Uploading new images will replace existing images"),e.k0s()()()()()()}if(2&r){const t=e.XpG(2);let i,n,c,l,m;e.R7$(5),e.Y8G("formGroup",t.serviceForm),e.R7$(5),e.Y8G("ngIf",null==(i=t.serviceForm.get("serviceName"))||null==i.errors?null:i.errors.required),e.R7$(5),e.Y8G("ngIf",null==(n=t.serviceForm.get("serviceDesc"))||null==n.errors?null:n.errors.required),e.R7$(5),e.Y8G("ngIf",null==(c=t.serviceForm.get("price"))||null==c.errors?null:c.errors.required),e.R7$(1),e.Y8G("ngIf",null==(l=t.serviceForm.get("price"))||null==l.errors?null:l.errors.min),e.R7$(4),e.Y8G("categories",t.categories)("showAllOption",!1)("searchable",!0)("showIcons",!0)("multiple",!1),e.R7$(4),e.Y8G("regions",t.availableRegions)("showAllOption",!0)("searchable",!0)("multiple",!0)("maxSelections",10),e.R7$(11),e.Y8G("ngIf",null==(m=t.serviceForm.get("contactEmail"))||null==m.errors?null:m.errors.email),e.R7$(4),e.Y8G("ngIf",t.existingImages.length>0)}}function he(r,a){if(1&r){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"h1"),e.EFF(3),e.k0s(),e.DNE(4,Q,5,4,"div",6),e.k0s(),e.j41(5,"div",7),e.DNE(6,q,2,1,"div",8),e.DNE(7,W,1,0,"img",9),e.k0s(),e.j41(8,"mat-card",10)(9,"mat-card-content")(10,"h2"),e.EFF(11,"Service Details"),e.k0s(),e.j41(12,"p")(13,"strong"),e.EFF(14,"Price:"),e.k0s(),e.EFF(15),e.nI1(16,"currency"),e.k0s(),e.j41(17,"div",11)(18,"strong"),e.EFF(19,"Category:"),e.k0s(),e.DNE(20,ee,5,1,"mat-chip-set",12),e.DNE(21,te,2,0,"span",12),e.k0s(),e.DNE(22,re,4,0,"p",12),e.DNE(23,ie,4,1,"p",12),e.DNE(24,ne,4,0,"p",12),e.j41(25,"p")(26,"strong"),e.EFF(27,"Description:"),e.k0s(),e.EFF(28),e.k0s(),e.j41(29,"h2"),e.EFF(30,"Contact Information"),e.k0s(),e.j41(31,"p")(32,"strong"),e.EFF(33,"Phone:"),e.k0s(),e.EFF(34),e.k0s(),e.j41(35,"p")(36,"strong"),e.EFF(37,"Email:"),e.k0s(),e.EFF(38),e.k0s(),e.j41(39,"h2"),e.EFF(40,"Vendor Information"),e.k0s(),e.j41(41,"p")(42,"strong"),e.EFF(43,"Posted By:"),e.k0s(),e.EFF(44),e.k0s(),e.j41(45,"p")(46,"strong"),e.EFF(47,"Posted On:"),e.k0s(),e.EFF(48),e.nI1(49,"date"),e.k0s()()(),e.j41(50,"div",13)(51,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.goBack())}),e.EFF(52,"Back to Services"),e.k0s(),e.DNE(53,ae,2,1,"button",15),e.DNE(54,oe,2,0,"button",16),e.DNE(55,se,2,0,"button",17),e.DNE(56,ce,2,2,"button",18),e.k0s(),e.DNE(57,fe,51,17,"mat-card",19),e.k0s()}if(2&r){const t=e.XpG();e.R7$(3),e.JRh(t.service.serviceName),e.R7$(1),e.Y8G("ngIf",t.isAdmin||t.isSuperAdmin),e.R7$(2),e.Y8G("ngIf",t.service.images&&t.service.images.length>0),e.R7$(1),e.Y8G("ngIf",!t.service.images||0===t.service.images.length),e.R7$(8),e.SpI(" ",e.i5U(16,20,t.service.price,"INR"),""),e.R7$(5),e.Y8G("ngIf",t.service.category&&t.service.category.name),e.R7$(1),e.Y8G("ngIf",!t.service.category||!t.service.category.name),e.R7$(1),e.Y8G("ngIf",t.service.availableRegions&&0===t.service.availableRegions.length),e.R7$(1),e.Y8G("ngIf",t.service.availableRegions&&t.service.availableRegions.length>0),e.R7$(1),e.Y8G("ngIf",!t.service.availableRegions),e.R7$(4),e.SpI(" ",t.service.serviceDesc,""),e.R7$(6),e.SpI(" ",(null==t.service.contactInfo?null:t.service.contactInfo.phone)||"N/A",""),e.R7$(4),e.SpI(" ",(null==t.service.contactInfo?null:t.service.contactInfo.email)||"N/A",""),e.R7$(6),e.SpI(" ",(null==t.service.user?null:t.service.user.name)||"Unknown",""),e.R7$(4),e.SpI(" ",t.service.date?e.i5U(49,23,t.service.date,"medium"):"Unknown",""),e.R7$(5),e.Y8G("ngIf",t.isEditMode),e.R7$(1),e.Y8G("ngIf",t.isServiceOwner||t.isAdmin||t.isSuperAdmin),e.R7$(1),e.Y8G("ngIf",(t.isAdmin||t.isSuperAdmin)&&!t.service.isApproved),e.R7$(1),e.Y8G("ngIf",t.isAdmin||t.isSuperAdmin),e.R7$(1),e.Y8G("ngIf",t.isEditMode)}}let _e=(()=>{class r{constructor(t,i,n,c,l,m,C){this.fb=t,this.serviceService=i,this.categoryService=n,this.authService=c,this.route=l,this.router=m,this.snackBar=C,this.customIdentifier=null,this.selectedFiles=[],this.existingImages=[],this.categories=[],this.loading=!1,this.isEditMode=!1,this.currentUserId=null,this.isAdmin=!1,this.isSuperAdmin=!1,this.isServiceOwner=!1,this.selectedCategory=null,this.availableRegions=[],this.destroy$=new k.B}ngOnInit(){this.currentUserId=this.authService.getUserId(),this.isAdmin=this.authService.isAdmin(),this.isSuperAdmin=this.authService.isSuperAdmin(),this.customIdentifier=this.route.snapshot.paramMap.get("customIdentifier"),this.serviceForm=this.fb.group({serviceName:["",s.k0.required],serviceDesc:["",s.k0.required],price:[0,[s.k0.required,s.k0.min(0)]],categoryCustomIdentifier:[""],availableRegions:[""],contactPhone:[""],contactEmail:["",s.k0.email]}),this.loadCategories(),this.loadAvailableRegions(),this.customIdentifier&&this.loadServiceDetails()}loadServiceDetails(){this.customIdentifier&&(this.loading=!0,this.serviceService.getServiceByCustomIdentifier(this.customIdentifier).pipe((0,g.Q)(this.destroy$)).subscribe(t=>{console.log("Service data received:",t),this.service=t,this.existingImages=t.images||[],this.isServiceOwner=this.currentUserId===this.service?.user?._id,this.isEditMode=this.isServiceOwner||this.isAdmin||this.isSuperAdmin,console.log("Service data received:",t),console.log("Category data:",t.category),console.log("Available regions:",t.availableRegions),console.log("Contact info:",t.contactInfo),console.log("Date:",t.date),t.category?.customIdentifier&&(this.selectedCategory=this.categories.find(i=>i.customIdentifier===t.category?.customIdentifier||i.customIdentifer===t.category?.customIdentifier)||null),this.serviceForm.patchValue({serviceName:t.serviceName,serviceDesc:t.serviceDesc,price:t.price,categoryCustomIdentifier:t.category?.customIdentifier||"",availableRegions:t.availableRegions||[],contactPhone:t.contactInfo?.phone||"",contactEmail:t.contactInfo?.email||""}),console.log("Form patched with availableRegions:",this.serviceForm.get("availableRegions")?.value),this.loading=!1},t=>{console.error("Error fetching service details:",t),this.snackBar.open("Failed to load service details.","Close",{duration:3e3}),this.loading=!1,this.router.navigate(["/services/list"])}))}loadCategories(){this.categoryService.getServiceCategories({active:!0}).pipe((0,g.Q)(this.destroy$)).subscribe(t=>{t&&Array.isArray(t)?this.categories=t.filter(i=>i.isActive):t&&Array.isArray(t.categories)?this.categories=t.categories.filter(i=>i.isActive):(console.error("Unexpected response format from service categories API:",t),this.categories=[]),console.log("Loaded service categories:",this.categories)},t=>{console.error("Error fetching service categories:",t),this.snackBar.open("Failed to load service categories.","Close",{duration:3e3})})}onFileSelected(t){this.selectedFiles=Array.from(t.target.files)}removeExistingImage(t){this.existingImages=this.existingImages.filter(i=>i!==t),this.snackBar.open("Image will be removed on update.","Close",{duration:2e3})}onSubmit(){if(!this.customIdentifier||this.serviceForm.invalid||!this.isEditMode)return this.serviceForm.markAllAsTouched(),void this.snackBar.open("Please fill in all required fields or you are not authorized.","Close",{duration:3e3});this.loading=!0;const t=new FormData;t.append("serviceName",this.serviceForm.get("serviceName")?.value),t.append("serviceDesc",this.serviceForm.get("serviceDesc")?.value),t.append("price",this.serviceForm.get("price")?.value),this.serviceForm.get("categoryCustomIdentifier")?.value&&t.append("categoryCustomIdentifier",this.serviceForm.get("categoryCustomIdentifier")?.value);const i=this.serviceForm.get("availableRegions")?.value;console.log("Form regions value:",i),i&&i.length>0?(t.append("availableRegions",JSON.stringify(i)),console.log("Appended regions to form data:",i)):(t.append("availableRegions",JSON.stringify([])),console.log("Appended empty array for All India")),this.serviceForm.get("contactPhone")?.value&&t.append("contactPhone",this.serviceForm.get("contactPhone")?.value),this.serviceForm.get("contactEmail")?.value&&t.append("contactEmail",this.serviceForm.get("contactEmail")?.value),this.selectedFiles.forEach(n=>{t.append("images",n,n.name)}),this.serviceService.updateService(this.customIdentifier,t).pipe((0,g.Q)(this.destroy$)).subscribe(n=>{this.snackBar.open("Service updated successfully!","Close",{duration:3e3}),this.loading=!1,this.router.navigate(["/services/list"])},n=>{console.error("Error updating service:",n),this.snackBar.open("Failed to update service.","Close",{duration:3e3}),this.loading=!1})}deleteService(){confirm("Are you sure you want to delete this service?")&&this.customIdentifier&&this.serviceService.deleteService(this.customIdentifier).subscribe(()=>{this.snackBar.open("Service deleted successfully.","Close",{duration:3e3}),this.router.navigate(["/services/list"])},t=>{console.error("Error deleting service:",t),this.snackBar.open("Failed to delete service.","Close",{duration:3e3})})}approveService(){confirm("Are you sure you want to approve this service?")&&this.customIdentifier&&this.serviceService.approveService(this.customIdentifier).subscribe(()=>{this.snackBar.open("Service approved successfully.","Close",{duration:3e3}),this.loadServiceDetails()},t=>{console.error("Error approving service:",t),this.snackBar.open("Failed to approve service.","Close",{duration:3e3})})}toggleServiceStatus(){confirm("Are you sure you want to toggle the status of this service?")&&this.customIdentifier&&this.serviceService.toggleServiceStatus(this.customIdentifier).subscribe(()=>{this.snackBar.open("Service status toggled successfully.","Close",{duration:3e3}),this.loadServiceDetails()},t=>{console.error("Error toggling service status:",t),this.snackBar.open("Failed to toggle service status.","Close",{duration:3e3})})}onCategorySelect(t){console.log("onCategorySelect called with:",t),null===t?(this.selectedCategory=null,this.serviceForm.get("categoryCustomIdentifier")?.setValue(""),console.log("Cleared category selection")):Array.isArray(t)?(this.selectedCategory=t.length>0?t[0]:null,console.log("Selected category (array mode):",this.selectedCategory)):(this.selectedCategory=t,console.log("Selected category (single mode):",this.selectedCategory))}goBack(){this.router.navigate(["/services/list"])}loadAvailableRegions(){this.availableRegions=["Delhi","Mumbai","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivli","Vasai-Virar","Varanasi","Amritsar","Allahabad","Ranchi","Howrah","Coimbatore","Jabalpur","Gwalior","Vijayawada","Jodhpur","Madurai","Raipur","Kota","Guwahati","Chandigarh","Solapur","Hubli-Dharwad","Bareilly","Moradabad","Mysore","Gurgaon","Aligarh","Jalandhar","Tiruchirappalli","Bhubaneswar","Salem","Mira-Bhayandar","Warangal","Thiruvananthapuram","Bhiwandi","Saharanpur","Gorakhpur","Guntur","Bikaner","Amravati","Noida","Jamshedpur","Bhilai","Cuttack","Firozabad","Kochi","Nellore","Bhavnagar","Dehradun","Durgapur","Asansol","Rourkela","Nanded","Kolhapur","Ajmer","Akola","Gulbarga","Jamnagar","Ujjain","Loni","Siliguri","Jhansi","Ulhasnagar","Sangli-Miraj & Kupwad","Tirupati","Malegaon","Jammu","Belgaum","Mangalore","Ambattur","Tirunelveli","Shahjahanpur","Bhiwandi-Nizampur","Purnia","Muzaffarpur","Raebareli","Panihati","Latur","Dhule","Tirupur","Sagar","Bhagalpur","Panchkula","Aurangabad","Bankura","Naihati","Serampore","North Dumdum","Bhatpara","Maheshtala","Hapur","Bihar Sharif","Sambalpur","Bardhaman","Raebareli","Kanchipuram","Vellore","Kirari Suleman Nagar"]}onRegionChange(t){console.log("onRegionChange called with:",t),null===t?(this.serviceForm.get("availableRegions")?.setValue([]),console.log("Form control set to empty array for All India")):Array.isArray(t)?(this.serviceForm.get("availableRegions")?.setValue(t),console.log("Form control set to array:",t)):(this.serviceForm.get("availableRegions")?.setValue([t]),console.log("Form control set to single region array:",[t]))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||r)(e.rXU(s.ok),e.rXU(b.N),e.rXU(I.z),e.rXU(z.u),e.rXU(u.nX),e.rXU(u.Ix),e.rXU(y.UG))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-service-detail"]],decls:3,vars:2,consts:[[1,"service-detail-container"],["class","loading-spinner",4,"ngIf"],["class","service-content",4,"ngIf"],[1,"loading-spinner"],[1,"service-content"],[1,"header-section"],["class","status-icons",4,"ngIf"],[1,"images-section"],["class","image-gallery",4,"ngIf"],["src","assets/images/placeholder.png","alt","No Image",4,"ngIf"],[1,"details-card"],[1,"category-display"],[4,"ngIf"],[1,"actions-section"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"color","click",4,"ngIf"],["class","edit-form-card",4,"ngIf"],[1,"status-icons"],["class","approved","matTooltip","Approved",4,"ngIf"],["class","pending","matTooltip","Pending Approval",4,"ngIf"],["class","active","matTooltip","Active",4,"ngIf"],["class","inactive","matTooltip","Inactive",4,"ngIf"],["matTooltip","Approved",1,"approved"],["matTooltip","Pending Approval",1,"pending"],["matTooltip","Active",1,"active"],["matTooltip","Inactive",1,"inactive"],[1,"image-gallery"],["alt","Service Image",3,"src",4,"ngFor","ngForOf"],["alt","Service Image",3,"src"],["src","assets/images/placeholder.png","alt","No Image"],["color","primary","selected",""],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","",3,"color","click"],[1,"edit-form-card"],[3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","serviceName","required",""],["matInput","","formControlName","serviceDesc","rows","5","required",""],["appearance","outline"],["matInput","","type","number","formControlName","price","required",""],[1,"category-selector-container"],[1,"field-label"],["formControlName","categoryCustomIdentifier","placeholder","Choose a category that best fits your service",3,"categories","showAllOption","searchable","showIcons","multiple","selectionChange"],[1,"regions-selector-container"],["formControlName","availableRegions","placeholder","Select cities where you provide services","allOptionText","All India",3,"regions","showAllOption","searchable","multiple","maxSelections","selectionChange"],["matInput","","formControlName","contactPhone"],["matInput","","formControlName","contactEmail","type","email"],[1,"image-upload-section"],["class","existing-images",4,"ngIf"],[1,"file-input"],["type","file","multiple","","accept","image/*",3,"change"],[1,"hint"],[1,"existing-images"],["class","image-preview",4,"ngFor","ngForOf"],[1,"image-preview"],["mat-icon-button","","color","warn","matTooltip","Remove Image",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.DNE(1,U,2,0,"div",1),e.DNE(2,he,58,26,"div",2),e.k0s()),2&i&&(e.R7$(1),e.Y8G("ngIf",n.loading),e.R7$(1),e.Y8G("ngIf",!n.loading&&n.service))},dependencies:[d.Sq,d.bT,s.qT,s.me,s.Q0,s.BC,s.cb,s.YS,s.j4,s.JD,M.An,h.$z,h.iY,E.a,R.V,P.fg,p.rl,p.nJ,p.MV,p.TL,v.RN,v.m2,v.MM,v.dh,D.oV,O.LG,F.Jl,F.Jo,d.oe,d.vh],styles:[".service-detail-container[_ngcontent-%COMP%]{margin:0;width:80%;left:0;min-height:calc(100vh - 64px);padding:20px 0}.service-detail-container[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.service-detail-container[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-right:10px}.service-detail-container[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:inline-block}.service-detail-container[_ngcontent-%COMP%]   .category-display[_ngcontent-%COMP%]   .mat-mdc-chip[_ngcontent-%COMP%]{margin-left:5px}.service-detail-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;color:#333}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]{display:flex;gap:10px}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .approved[_ngcontent-%COMP%]{color:#4caf50}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .pending[_ngcontent-%COMP%]{color:#ffc107}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#2196f3}.service-detail-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{color:#f44336}.service-detail-container[_ngcontent-%COMP%]   .images-section[_ngcontent-%COMP%]{margin-bottom:20px}.service-detail-container[_ngcontent-%COMP%]   .images-section[_ngcontent-%COMP%]   .image-gallery[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.service-detail-container[_ngcontent-%COMP%]   .images-section[_ngcontent-%COMP%]   .image-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:4px;box-shadow:0 2px 4px #0000001a}.service-detail-container[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]{margin-bottom:20px}.service-detail-container[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px;color:#333}.service-detail-container[_ngcontent-%COMP%]   .details-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.service-detail-container[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]{margin-top:30px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .category-selector-container[_ngcontent-%COMP%], .service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .regions-selector-container[_ngcontent-%COMP%]{margin-bottom:15px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .category-selector-container[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%], .service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .regions-selector-container[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#000000de;margin-bottom:8px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .category-selector-container[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%], .service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .regions-selector-container[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-top:8px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:10px;margin-bottom:15px;min-width:200px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]{margin-top:20px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .existing-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-bottom:15px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .existing-images[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{position:relative}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .existing-images[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:4px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .existing-images[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background-color:#fff;box-shadow:0 2px 4px #0003}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]{margin-top:10px}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{margin:10px 0}.service-detail-container[_ngcontent-%COMP%]   .edit-form-card[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .file-input[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:12px;color:#0009;margin-top:5px}@media (max-width: 768px){.service-detail-container[_ngcontent-%COMP%]{width:95%;margin:0 auto;padding:15px}.header-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.header-section[_ngcontent-%COMP%]   .status-icons[_ngcontent-%COMP%]{order:-1}.images-section[_ngcontent-%COMP%]   .image-gallery[_ngcontent-%COMP%]{flex-direction:column}.images-section[_ngcontent-%COMP%]   .image-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.actions-section[_ngcontent-%COMP%]{flex-direction:column}.actions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return r})();var f=o(832),_=o(1620),Ce=o(5458);const be=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:S.z,canActivate:[f.e,_.q],data:{animation:"fadingPage"}},{path:"my-services",component:S.z,canActivate:[f.e,_.q],data:{animation:"fadingPage",isMyServicesView:!0}},{path:"create",component:A,canActivate:[f.e],data:{role:["isSupplier","isAdmin","isSuperAdmin"],animation:"fadingPage"}},{path:":customIdentifier",component:_e,canActivate:[f.e,_.q],data:{animation:"fadingPage"}},{path:":customIdentifier/edit",component:A,canActivate:[f.e,_.q,Ce.K],data:{role:["isSupplier","isAdmin","isSuperAdmin"],animation:"fadingPage",editMode:!0}}];let ye=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[u.iI.forChild(be),u.iI]})}}return r})();var Me=o(6743),Pe=o(3887),Oe=o(9159),Fe=o(6695),xe=o(2042),Se=o(2798),ke=o(6600);let Ee=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[ke.yE]})}}return r})(),Re=(()=>{class r{static{this.\u0275fac=function(i){return new(i||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[b.N],imports:[d.MD,s.YN,s.X1,ye,Me.o,Pe.SharedModule,Oe.tP,Fe.Ou,xe.NQ,P.fS,Se.Ve,h.Hl,M.m_,v.Hu,Ee,y._T,D.uc,O.D6,F.YN]})}}return r})()}}]);