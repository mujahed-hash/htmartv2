"use strict";(self.webpackChunkhmfront=self.webpackChunkhmfront||[]).push([[712],{1767:(E,m,s)=>{s.d(m,{S:()=>k});var u=s(1413),p=s(6977),t=s(7705),h=s(3870),c=s(177),n=s(8498),l=s(9417);function _(i,o){1&i&&(t.j41(0,"div",7)(1,"div",8),t.nrm(2,"i",9),t.j41(3,"span"),t.EFF(4,"Updating Status..."),t.k0s()()())}function M(i,o){1&i&&(t.j41(0,"div",10)(1,"div",11),t.nrm(2,"i",12),t.k0s(),t.j41(3,"h3"),t.EFF(4,"No Orders Yet"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Received orders will appear here"),t.k0s()())}const f=function(i){return["/s/view-order",i]};function P(i,o){if(1&i&&(t.j41(0,"div",40)(1,"div",41)(2,"h4",42),t.EFF(3),t.k0s(),t.j41(4,"div",43)(5,"div",44)(6,"span",45),t.EFF(7,"Size:"),t.k0s(),t.j41(8,"span",46),t.EFF(9),t.k0s()(),t.j41(10,"div",44)(11,"span",45),t.EFF(12,"Quantity:"),t.k0s(),t.j41(13,"span",46),t.EFF(14),t.k0s()()()()()),2&i){const e=o.$implicit,r=t.XpG().$implicit;t.Y8G("routerLink",t.eq3(4,f,r.customIdentifer)),t.R7$(3),t.JRh(null==e||null==e.product?null:e.product.prodName),t.R7$(6),t.JRh(null==e?null:e.prodSize),t.R7$(5),t.JRh(null==e?null:e.quantity)}}function x(i,o){1&i&&t.nrm(0,"i",47)}function C(i,o){1&i&&t.nrm(0,"i",48)}function O(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),t.nrm(4,"i",19),t.j41(5,"span"),t.EFF(6),t.k0s()(),t.j41(7,"div",20),t.EFF(8),t.k0s()(),t.j41(9,"div",21)(10,"div",22)(11,"span",23),t.EFF(12),t.nI1(13,"currency"),t.k0s(),t.j41(14,"span",24),t.EFF(15),t.k0s()(),t.j41(16,"div",25),t.nrm(17,"i",26),t.j41(18,"span"),t.EFF(19),t.nI1(20,"date"),t.k0s()()()(),t.j41(21,"div",27),t.DNE(22,P,15,6,"div",28),t.k0s(),t.j41(23,"div",29)(24,"div",30)(25,"div",31)(26,"select",32),t.bIt("ngModelChange",function(d){const g=t.eBV(e).$implicit,F=t.XpG(2);return t.Njj(F.newStatus[g._id]=d)}),t.j41(27,"option",33),t.EFF(28,"Pending"),t.k0s(),t.j41(29,"option",34),t.EFF(30,"Approved"),t.k0s(),t.j41(31,"option",35),t.EFF(32,"Delivered"),t.k0s(),t.j41(33,"option",36),t.EFF(34,"Cancelled"),t.k0s()()(),t.j41(35,"button",37),t.bIt("click",function(){const a=t.eBV(e).$implicit,g=t.XpG(2);return t.Njj(g.updateStatus(a._id,null==a||null==a.user?null:a.user._id))}),t.j41(36,"span"),t.DNE(37,x,1,0,"i",38),t.DNE(38,C,1,0,"i",39),t.k0s(),t.j41(39,"span"),t.EFF(40),t.k0s()()()()()}if(2&i){const e=o.$implicit,r=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(20,f,e.customIdentifer)),t.R7$(5),t.JRh(null==e||null==e.user?null:e.user.name),t.R7$(1),t.Y8G("ngClass","status-"+(null==e.status?null:e.status.toLowerCase())),t.R7$(1),t.SpI(" ",e.status," "),t.R7$(4),t.JRh(t.i5U(13,14,null==e?null:e.totalPrice,"INR")),t.R7$(3),t.SpI("",null==e||null==e.orderItems?null:e.orderItems.length," item(s)"),t.R7$(4),t.JRh(t.i5U(20,17,e.date,"medium")),t.R7$(3),t.Y8G("ngForOf",e.orderItems),t.R7$(4),t.Y8G("ngModel",r.newStatus[e._id])("disabled",r.isLoading),t.R7$(9),t.Y8G("disabled",r.isLoading),t.R7$(2),t.Y8G("ngIf",!r.isLoading),t.R7$(1),t.Y8G("ngIf",r.isLoading),t.R7$(2),t.JRh(r.isLoading?"Updating...":"Update Status")}}function v(i,o){if(1&i&&(t.j41(0,"div",13),t.DNE(1,O,41,22,"div",14),t.k0s()),2&i){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",e.orders)}}function b(i,o){if(1&i){const e=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(e);const d=t.XpG(2);return t.Njj(d.getPlacedOrders())}),t.j41(1,"span"),t.nrm(2,"i",53),t.k0s(),t.j41(3,"span"),t.EFF(4,"Load More Orders"),t.k0s()()}if(2&i){const e=t.XpG(2);t.Y8G("disabled",e.isLoading)}}function y(i,o){1&i&&(t.j41(0,"div",54)(1,"span"),t.nrm(2,"i",48),t.k0s(),t.j41(3,"span"),t.EFF(4,"Loading more orders..."),t.k0s()())}function w(i,o){if(1&i&&(t.j41(0,"div",49),t.DNE(1,b,5,1,"button",50),t.DNE(2,y,5,0,"div",51),t.k0s()),2&i){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.hasMoreOrders&&!e.isLoading),t.R7$(1),t.Y8G("ngIf",e.isLoading)}}let k=(()=>{class i{constructor(e){this.productService=e,this.orders=[],this.start=0,this.limit=10,this.isLoading=!1,this.hasMoreOrders=!0,this.isUpadated=!1,this.destroy$=new u.B,this.newStatus={}}ngOnInit(){this.token=localStorage.getItem("token"),this.getPlacedOrders()}getPlacedOrders(){this.isLoading=!0,this.productService.getPlacedOrders(this.start,this.limit,this.token).pipe((0,p.Q)(this.destroy$)).subscribe({next:e=>{console.log("API Response:",e),this.isLoading=!1,e?.orders&&Array.isArray(e.orders)?(this.orders=[...this.orders,...e.orders],this.start+=this.limit,this.initializeStatus?.(),this.hasMoreOrders=this.start<e.totalOrders):(console.warn("Unexpected response structure:",e),this.hasMoreOrders=!1)},error:e=>{console.error("Error fetching orders:",e),this.isLoading=!1,this.hasMoreOrders=!1}})}refreshOrders(){this.isUpadated=!0,this.isLoading=!0,this.orders=[],this.start=0,this.productService.getPlacedOrders(this.start,this.limit,this.token).pipe((0,p.Q)(this.destroy$)).subscribe({next:e=>{console.log("Refresh API Response:",e),this.isLoading=!1,this.isUpadated=!1,e?.orders&&Array.isArray(e.orders)?(this.orders=e.orders,this.start=this.limit,this.initializeStatus?.(),this.hasMoreOrders=this.start<e.totalOrders):(console.warn("Unexpected response structure:",e),this.hasMoreOrders=!1)},error:e=>{console.error("Error refreshing orders:",e),this.isLoading=!1,this.hasMoreOrders=!1}})}initializeStatus(){this.orders?.length>0?this.orders.forEach(e=>{e?.status?this.newStatus[e._id]=e.status:console.warn("Order without status:",e)}):console.warn("No orders to initialize status for.")}updateStatus(e,r){const d=this.newStatus[e];this.isLoading=!0,this.productService.updateOrderStatus(e,r,d,this.token).pipe((0,p.Q)(this.destroy$)).subscribe({next:a=>{console.log("Order status updated successfully",a);const g=this.orders.findIndex(F=>F._id===e);-1!==g&&(this.orders[g].status=d),this.refreshOrders()},error:a=>{console.error("Error updating order status",a),this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||i)(t.rXU(h.g))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-supplier-orders-component"]],decls:10,vars:4,consts:[[1,"orders-page-container"],["class","status-update-notification",4,"ngIf"],[1,"page-header"],[1,"subtitle"],["class","empty-orders-container",4,"ngIf"],["class","orders-container",4,"ngIf"],["class","load-more-container",4,"ngIf"],[1,"status-update-notification"],[1,"notification-content"],[1,"pi","pi-sync","pi-spin"],[1,"empty-orders-container"],[1,"empty-illustration"],[1,"pi","pi-shopping-cart","empty-icon"],[1,"orders-container"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],[1,"order-header",3,"routerLink"],[1,"customer-info"],[1,"customer-name"],[1,"pi","pi-user"],[1,"order-status-badge",3,"ngClass"],[1,"order-meta"],[1,"order-price"],[1,"price-value"],[1,"item-count"],[1,"order-date"],[1,"pi","pi-calendar"],[1,"order-items-container"],["class","order-item",3,"routerLink",4,"ngFor","ngForOf"],[1,"order-actions"],[1,"status-update-form"],[1,"select-wrapper"],[1,"status-select",3,"ngModel","disabled","ngModelChange"],["value","Pending"],["value","Approved"],["value","Delivered"],["value","Cancelled"],[1,"update-button",3,"disabled","click"],["class","pi pi-check",4,"ngIf"],["class","pi pi-spin pi-spinner",4,"ngIf"],[1,"order-item",3,"routerLink"],[1,"item-details"],[1,"product-name"],[1,"product-specs"],[1,"spec-item"],[1,"spec-label"],[1,"spec-value"],[1,"pi","pi-check"],[1,"pi","pi-spin","pi-spinner"],[1,"load-more-container"],["class","load-more-button",3,"disabled","click",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"load-more-button",3,"disabled","click"],[1,"pi","pi-plus"],[1,"loading-indicator"]],template:function(r,d){1&r&&(t.j41(0,"div",0),t.DNE(1,_,5,0,"div",1),t.j41(2,"div",2)(3,"h1"),t.EFF(4,"Customer Orders"),t.k0s(),t.j41(5,"p",3),t.EFF(6,"Manage and update your customer orders"),t.k0s()(),t.DNE(7,M,7,0,"div",4),t.DNE(8,v,2,1,"div",5),t.DNE(9,w,3,2,"div",6),t.k0s()),2&r&&(t.R7$(1),t.Y8G("ngIf",d.isUpadated),t.R7$(6),t.Y8G("ngIf",!d.orders||0===d.orders.length),t.R7$(1),t.Y8G("ngIf",d.orders&&d.orders.length>0),t.R7$(1),t.Y8G("ngIf",d.orders&&d.orders.length>0))},dependencies:[c.YU,c.Sq,c.bT,n.Wk,l.xH,l.y7,l.wz,l.BC,l.vS,c.oe,c.vh],styles:['.order-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;width:80%;overflow:scroll}*[_ngcontent-%COMP%]{overflow:visible}.order-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ccc;border-radius:8px;padding:.5rem 1rem;background-color:#f9f9f9;height:20rem}.order-item[_ngcontent-%COMP%]{justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #eee}.product-name[_ngcontent-%COMP%], .order-details[_ngcontent-%COMP%], .order-status[_ngcontent-%COMP%]{margin:0}.status-select[_ngcontent-%COMP%]{margin-top:.2rem;padding:.5rem;border:1px solid #ccc;border-radius:4px}.update-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.update-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .order-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.4rem}.order-head[_ngcontent-%COMP%]{background-color:#ebf4f6;padding:0 8px;border-radius:5px;color:#041562}.order-head2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:0}@media (min-width: 768px){.order-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.order-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 2rem);margin:.5rem}}@media (min-width: 1024px){.order-card[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 2rem)}}@media screen and (orientation: portrait){.order-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;font-size:small;width:100%;overflow:scroll}.order-head[_ngcontent-%COMP%]{margin:0}.order-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 1rem);height:17rem;overflow:scroll}.order-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:small}.update-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:small}}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:10px;color:#2657c1;font-weight:700;margin:15px 0}.orders-page-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0;padding:1.5rem;font-family:Rubik,serif}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Bebas Neue,serif;font-size:2rem;margin:0 0 .5rem;color:#163172;letter-spacing:1px}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin:0}.status-update-notification[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#0000004d;z-index:999}.status-update-notification[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background-color:#fff;padding:1.5rem 2rem;border-radius:10px;box-shadow:0 10px 20px #0000001a;border-left:4px solid #2657C1}.status-update-notification[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#2657c1}.status-update-notification[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#2657c1}.empty-orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;margin:2rem auto;background-color:#f5f5f5;border-radius:10px;max-width:500px;box-shadow:0 4px 8px #0000000d}.empty-orders-container[_ngcontent-%COMP%]   .empty-illustration[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#e3f2fd;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.empty-orders-container[_ngcontent-%COMP%]   .empty-illustration[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#2196f3}.empty-orders-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin:1rem 0 .5rem}.empty-orders-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#666;font-size:1rem;line-height:1.5}.orders-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.order-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;overflow:visible;box-shadow:0 2px 10px #00000014;transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column;height:auto;min-height:350px;max-height:none;border:1px solid #EBF4F6}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #0000001a}.order-header[_ngcontent-%COMP%]{padding:1.25rem;background-color:#f9fbfd;border-bottom:1px solid #EBF4F6;cursor:pointer}.order-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.order-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:#333}.order-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2657c1;font-size:1rem}.order-header[_ngcontent-%COMP%]   .order-status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-pending[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-approved[_ngcontent-%COMP%]{background-color:#d6e4f0;color:#2657c1}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-delivered[_ngcontent-%COMP%]{background-color:#ecffe6;color:#399918}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-price[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-price[_ngcontent-%COMP%]   .price-value[_ngcontent-%COMP%]{font-weight:600;color:#2657c1;font-size:1.1rem}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-price[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{font-size:.85rem;color:#757575}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#757575}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2657c1}.order-items-container[_ngcontent-%COMP%]{padding:1rem 1.25rem;flex:1;overflow-y:auto;max-height:200px}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s;overflow:visible}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#333;margin:0 0 .5rem}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-label[_ngcontent-%COMP%]{font-size:.85rem;color:#757575}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#333}.order-actions[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #EBF4F6;background-color:#f9fbfd;z-index:10;position:relative}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]{display:block;gap:1rem;align-items:center}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;z-index:20;margin-bottom:.3rem}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:10px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #757575;pointer-events:none}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;appearance:none;background-color:#fff;font-family:Rubik,serif;color:#333;position:relative;z-index:25}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2657c1;box-shadow:0 0 0 2px #2657c11a}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:10px}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;justify-content:center;padding:.75rem 1.25rem;background-color:#2657c1;color:#fff;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease;margin-top:0;gap:1rem}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin:0;width:max-content}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]:hover{background-color:#1e4496}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]:disabled{background-color:#a0a0a0;cursor:not-allowed}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2rem 0}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#f9fbfd;color:#2657c1;border:1px solid #2657C1;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin:0;width:max-contentx}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:hover{background-color:#2657c1;color:#fff}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;color:#a0a0a0;border-color:#ddd;cursor:not-allowed}.load-more-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#2657c1;font-weight:500}.load-more-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin:0;width:max-contentx}.load-more-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}@media (max-width: 992px){.orders-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 768px){.orders-page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.orders-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100%,1fr))}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9rem}.order-header[_ngcontent-%COMP%]{padding:1rem}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.order-items-container[_ngcontent-%COMP%], .order-actions[_ngcontent-%COMP%]{padding:1rem}}']})}}return i})()},712:(E,m,s)=>{s.r(m),s.d(m,{SupplierModule:()=>i});var u=s(177),p=s(8498),t=s(1767),h=s(1413),c=s(6977),n=s(7705),l=s(3870);function _(o,e){if(1&o&&(n.j41(0,"div")(1,"h2"),n.EFF(2,"Order Received"),n.k0s(),n.j41(3,"div",6)(4,"h1"),n.EFF(5),n.k0s()()()),2&o){const r=n.XpG();n.R7$(5),n.JRh(r.order.totalOrders)}}function M(o,e){if(1&o&&(n.j41(0,"div",7)(1,"div")(2,"h2"),n.EFF(3,"Order Delivered"),n.k0s(),n.j41(4,"div",6)(5,"h1"),n.EFF(6),n.k0s()()()()),2&o){const r=n.XpG();n.R7$(6),n.JRh(r.order.deliveredOrders)}}function f(o,e){if(1&o&&(n.j41(0,"div",8)(1,"div")(2,"h2"),n.EFF(3,"Total Sales"),n.k0s(),n.j41(4,"div",6)(5,"h1"),n.EFF(6),n.k0s()()()()),2&o){const r=n.XpG();n.R7$(6),n.JRh(r.order.deliveredOrders)}}function P(o,e){if(1&o&&(n.j41(0,"div")(1,"h2"),n.EFF(2,"Total Items"),n.k0s(),n.j41(3,"div",6)(4,"h1"),n.EFF(5),n.k0s()()()),2&o){const r=n.XpG();n.R7$(5),n.JRh(r.products.count)}}let x=(()=>{class o{constructor(r){this.supplyService=r,this.destroy$=new h.B}ngOnInit(){this.token=localStorage.getItem("token"),this.getOrdersCount(),this.getProductsCount()}getOrdersCount(){this.supplyService.getOrdersCount(this.token).pipe((0,c.Q)(this.destroy$)).subscribe(r=>{console.log(r),this.order=r})}getProductsCount(){this.supplyService.getProductsCount(this.token).pipe((0,c.Q)(this.destroy$)).subscribe(r=>{console.log(r),this.products=r})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(d){return new(d||o)(n.rXU(l.g))}}static{this.\u0275cmp=n.VBU({type:o,selectors:[["app-supplier"]],decls:7,vars:4,consts:[[1,"s-dashboard"],[1,"s-d-i","s-r"],[4,"ngIf"],["class","s-d-i s-d",4,"ngIf"],["class","s-d-i s-s",4,"ngIf"],[1,"s-d-i","s-i"],[1,"stat-value"],[1,"s-d-i","s-d"],[1,"s-d-i","s-s"]],template:function(d,a){1&d&&(n.j41(0,"div",0)(1,"div",1),n.DNE(2,_,6,1,"div",2),n.k0s(),n.DNE(3,M,7,1,"div",3),n.DNE(4,f,7,1,"div",4),n.j41(5,"div",5),n.DNE(6,P,6,1,"div",2),n.k0s()()),2&d&&(n.R7$(2),n.Y8G("ngIf",a.order),n.R7$(1),n.Y8G("ngIf",a.order),n.R7$(1),n.Y8G("ngIf",a.order),n.R7$(2),n.Y8G("ngIf",a.products))},dependencies:[u.bT],styles:[".s-dashboard[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:30px;justify-content:space-around;padding:15px}.s-d-i[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:20px;flex:1 1 calc(25% - 20px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-width:250px;transition:transform .3s ease}.s-d-i[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.s-d-i[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;color:#333}.stat-value[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;margin:0;color:#00796b}.s-dashboard[_ngcontent-%COMP%]{width:100%;display:inline-block}.s-d-i[_ngcontent-%COMP%]{width:25%;display:inline-block;margin:15px}@media screen and (orientation: portrait){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:8.5rem;overflow:hidden}}@media screen and (max-width: 500px){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:9.5rem;overflow:hidden}}@media screen and (max-width: 400px){.s-d-i[_ngcontent-%COMP%]{flex:1 1 calc(30% - 10px);margin:10px 4px;min-width:8.5rem;overflow:hidden}}@media screen and (max-width: 400px) and (max-width: 360px){.dash-main[_ngcontent-%COMP%]{display:inline-block;padding-left:.1rem;margin-top:1rem}.s-d-i[_ngcontent-%COMP%]{display:inline-block;flex:none;margin:.1rem;width:1.1rem;max-width:1.1rem;font-size:small}.s-dashboard[_ngcontent-%COMP%]{gap:30px;justify-content:center;padding:1px;height:100%}.s-d-i[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px;box-shadow:0 4px 8px #0000001a;padding:1px;flex:1 1 calc(40% - 20px);display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-width:250px;transition:transform .3s ease;margin:1rem;position:relative;left:5%}}"]})}}return o})();var C=s(1620),O=s(5458);const v=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:x},{path:"orders",component:t.S},{path:"",loadChildren:()=>Promise.all([s.e(5244),s.e(5649)]).then(s.bind(s,5649)).then(o=>o.MoreModule),canActivate:[C.q,O.K],data:{role:"supplier"}},{path:"",loadChildren:()=>s.e(8018).then(s.bind(s,8018)).then(o=>o.ReqSupModule),canActivate:[C.q,O.K],data:{role:"supplier"}}];let b=(()=>{class o{static{this.\u0275fac=function(d){return new(d||o)}}static{this.\u0275mod=n.$C({type:o})}static{this.\u0275inj=n.G2t({imports:[p.iI.forChild(v),p.iI]})}}return o})();var y=s(5619),w=s(9417),k=s(3887);let i=(()=>{class o{static{this.\u0275fac=function(d){return new(d||o)}}static{this.\u0275mod=n.$C({type:o})}static{this.\u0275inj=n.G2t({providers:[y.o],imports:[u.MD,b,w.YN,k.SharedModule]})}}return o})()}}]);