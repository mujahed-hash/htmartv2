"use strict";(self.webpackChunkhmfront=self.webpackChunkhmfront||[]).push([[1260],{1260:(G,_,d)=>{d.r(_),d.d(_,{ReqAdminModule:()=>B});var c=d(6814),p=d(3403),m=d(8645),l=d(9773),e=d(5879),a=d(2048);const f=function(n){return["/buyer/request-requirement/",n]};function h(n,r){if(1&n&&(e.TgZ(0,"button",8),e._uU(1,"View"),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,f,t.customIdentifier))}}function b(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.forwardToSuppliers(o._id))}),e._uU(1,"Forward to Suppliers"),e.qZA()}}function q(n,r){1&n&&(e.TgZ(0,"button",10),e._uU(1,"Forwarded"),e.qZA())}function x(n,r){if(1&n&&(e.TgZ(0,"button",10),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status)}}function Z(n,r){if(1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"p"),e._uU(3),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,h,2,3,"button",5),e.YNc(6,b,2,0,"button",6),e.YNc(7,q,2,0,"button",7),e.YNc(8,x,2,1,"button",7),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(3),e.hij("",i.truncateText(t.reqDetails,15),".."),e.xp6(2),e.Q6J("ngIf",t.reqDetails.length>1),e.xp6(1),e.Q6J("ngIf","Pending"===t.status),e.xp6(1),e.Q6J("ngIf","Forwarded"===t.status),e.xp6(1),e.Q6J("ngIf","Forwarded"!==t.status&&"Pending"!==t.status)}}let v=(()=>{class n{constructor(t){this.adminService=t,this.destroy$=new m.x,this.token=localStorage.getItem("token")}ngOnInit(){this.getRequirements()}getRequirements(){this.adminService.getAllRequirements(this.token).pipe((0,l.R)(this.destroy$)).subscribe(t=>{this.requirements=t,console.log(t)})}truncateText(t,i){return t.length>i?t.substring(0,i)+"...":t}forwardToSuppliers(t){this.adminService.forwardRequirement(t,this.token).pipe((0,l.R)(this.destroy$)).subscribe(i=>{console.log(i),this.getRequirements()},i=>{})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(a.l))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-req-admin"]],decls:2,vars:1,consts:[[1,"requests"],["class","request",4,"ngFor","ngForOf"],[1,"request"],[1,"r-s-t"],[1,"r-s-btn"],["class","v-b",3,"routerLink",4,"ngIf"],["class","f-s",3,"click",4,"ngIf"],["class","f-d",4,"ngIf"],[1,"v-b",3,"routerLink"],[1,"f-s",3,"click"],[1,"f-d"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Z,9,5,"div",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",o.requirements))},dependencies:[c.sg,c.O5,p.rH],styles:[".requests[_ngcontent-%COMP%]{width:100%;display:inline-block;gap:2px}.request[_ngcontent-%COMP%]{width:15%;display:inline-block;margin:1rem;border:1px solid #161D6F;border-radius:20px}.requests[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;left:1rem}.r-s-btn[_ngcontent-%COMP%]{width:100%;text-align:center}.request[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:8px;padding:8px 0;width:90%;border:none;margin-bottom:.4rem}.f-d[_ngcontent-%COMP%]{background-color:#bde8ca;color:#0d7c66;font-weight:700}.f-s[_ngcontent-%COMP%]{background-color:#e9efec;color:#16325b;font-weight:700}.f-s[_ngcontent-%COMP%]:hover{background-color:#16325b;color:#e9efec;font-weight:700}@media screen and (orientation: portrait){.requests[_ngcontent-%COMP%]{display:inline-block}.request[_ngcontent-%COMP%]{width:40%;display:inline-grid;height:10rem}}"]})}return n})();var u=d(6223);function A(n,r){if(1&n&&(e.TgZ(0,"div",5),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.errorMessage," ")}}function C(n,r){1&n&&(e.TgZ(0,"div",6)(1,"p",7),e._uU(2,"Loading product submissions..."),e.qZA()())}function T(n,r){if(1&n&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&n){const t=r.$implicit,i=e.oxw(4);e.Q6J("value",t.requirement._id),e.xp6(1),e.hij(" ",i.truncateText(t.requirement.reqDetails,15),".. ")}}function y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"select",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.requirement._id=o)}),e.YNc(2,T,2,2,"option",19),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.MGl("id","requirementId-",t._id,""),e.Q6J("ngModel",t.requirement._id),e.xp6(1),e.Q6J("ngForOf",i.requirements)}}function P(n,r){1&n&&(e.TgZ(0,"button",21),e._uU(1,"Forward"),e.qZA())}function O(n,r){if(1&n&&(e.TgZ(0,"small",22),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status)}}function U(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"img",12),e.qZA(),e.TgZ(12,"td")(13,"form",13),e.NdJ("ngSubmit",function(){const s=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.forwardSubmission(s._id,s.requirement._id,g.token))}),e.YNc(14,y,3,3,"div",14),e.TgZ(15,"div"),e.YNc(16,P,2,0,"button",15),e.YNc(17,O,2,1,"small",16),e.qZA()()()()}if(2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.hij("",i.truncateText(t.requirement.reqDetails,15),".."),e.xp6(2),e.Oqu(t.supplier.name),e.xp6(2),e.Oqu(i.truncateText(t.name,15)),e.xp6(2),e.Oqu(e.xi3(9,9,t.price,"INR")),e.xp6(3),e.s9C("alt",t.name),e.Q6J("src",t.image,e.LSH),e.xp6(3),e.Q6J("ngIf","Pending"===t.status),e.xp6(2),e.Q6J("ngIf","Pending"===t.status),e.xp6(1),e.Q6J("ngIf","Pending"!==t.status)}}function w(n,r){if(1&n&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead",10)(3,"tr")(4,"th"),e._uU(5,"Requirement"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Supplier"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Product Detail"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Price"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Image"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Action"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,U,18,12,"tr",11),e.qZA()()()),2&n){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.requirements)}}function S(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Loading..."),e.qZA())}function D(n,r){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.error)}}function I(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"p")(2,"strong"),e._uU(3,"Product Name:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"p")(6,"strong"),e._uU(7,"Price:"),e.qZA(),e._uU(8),e.qZA(),e._UZ(9,"img",4),e.TgZ(10,"h3"),e._uU(11,"Supplier Details"),e.qZA(),e.TgZ(12,"p")(13,"strong"),e._uU(14,"Name:"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"p")(17,"strong"),e._uU(18,"Email:"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"p")(21,"strong"),e._uU(22,"Phone:"),e.qZA(),e._uU(23),e.qZA(),e.TgZ(24,"p")(25,"strong"),e._uU(26,"Address:"),e.qZA(),e._uU(27),e.qZA(),e.TgZ(28,"h3"),e._uU(29,"Buyer Details"),e.qZA(),e.TgZ(30,"p")(31,"strong"),e._uU(32,"Name:"),e.qZA(),e._uU(33),e.qZA(),e.TgZ(34,"p")(35,"strong"),e._uU(36,"Email:"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"p")(39,"strong"),e._uU(40,"Phone:"),e.qZA(),e._uU(41),e.qZA(),e.TgZ(42,"p")(43,"strong"),e._uU(44,"Address:"),e.qZA(),e._uU(45),e.qZA(),e.TgZ(46,"button",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.confirmDelivery(s._id))}),e._uU(47,"Confirm Delivery"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(4),e.hij(" ",t.name,""),e.xp6(4),e.hij(" ",t.price,""),e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(6),e.hij(" ",t.supplier.name,""),e.xp6(4),e.hij(" ",t.supplier.email,""),e.xp6(4),e.hij(" ",t.supplier.phone,""),e.xp6(4),e.xDo(" ",t.supplier.street,", ",t.supplier.apartment,", ",t.supplier.city,", ",t.supplier.zip,", ",t.supplier.country,""),e.xp6(6),e.hij(" ",t.requirement.buyer.name,""),e.xp6(4),e.hij(" ",t.requirement.buyer.email,""),e.xp6(4),e.hij(" ",t.requirement.buyer.phone,""),e.xp6(4),e.xDo(" ",t.requirement.buyer.street,", ",t.requirement.buyer.apartment,", ",t.requirement.buyer.city,", ",t.requirement.buyer.zip,", ",t.requirement.buyer.country,"")}}function k(n,r){if(1&n&&(e.TgZ(0,"div",2)(1,"h2"),e._uU(2,"Requested Deliveries"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,I,48,19,"li",3),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.requestedSubmissions)}}function J(n,r){1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"No requested deliveries found."),e.qZA()())}function N(n,r){1&n&&(e.TgZ(0,"div",5),e._uU(1,"Loading completed products..."),e.qZA())}function F(n,r){if(1&n&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.error)}}function $(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1," status: "),e.TgZ(2,"strong"),e._uU(3,"Delivery Requested "),e.qZA()())}function Q(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1," status: "),e.TgZ(2,"strong"),e._uU(3," Delivered "),e.qZA()())}function j(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.updateDelivery(o.requirement._id,o._id))}),e._uU(1,"Mark Delivered"),e.qZA()}}function Y(n,r){1&n&&(e.TgZ(0,"button",14),e._uU(1,"Delivered"),e.qZA())}const E=function(n){return["/buyer/request-requirement/",n]};function z(n,r){if(1&n&&(e.TgZ(0,"li",8)(1,"h3"),e._uU(2),e.ALo(3,"currency"),e.qZA(),e.TgZ(4,"p",9)(5,"strong"),e._uU(6,"Requirement:"),e.qZA(),e._uU(7),e.qZA(),e.YNc(8,$,4,0,"p",4),e.YNc(9,Q,4,0,"p",4),e._UZ(10,"img",10),e.TgZ(11,"div")(12,"details")(13,"summary"),e._uU(14,"Supplier Details"),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.qZA(),e.TgZ(27,"p"),e._uU(28),e.qZA()()(),e.TgZ(29,"div")(30,"details")(31,"summary"),e._uU(32,"Buyer Details"),e.qZA(),e.TgZ(33,"p"),e._uU(34),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA(),e.TgZ(37,"p"),e._uU(38),e.qZA(),e.TgZ(39,"p"),e._uU(40),e.qZA(),e.TgZ(41,"p"),e._uU(42),e.qZA(),e.TgZ(43,"p"),e._uU(44),e.qZA(),e.TgZ(45,"p"),e._uU(46),e.qZA()()(),e.YNc(47,j,2,0,"button",11),e.YNc(48,Y,2,0,"button",12),e.qZA()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.AsE("",t.name," - ",e.xi3(3,24,t.price,"INR"),""),e.xp6(2),e.Q6J("routerLink",e.VKq(27,E,t.requirement.customIdentifier)),e.xp6(3),e.hij(" ",i.truncateText(t.requirement.reqDetails,15),""),e.xp6(1),e.Q6J("ngIf","Completed"===t.status),e.xp6(1),e.Q6J("ngIf","Delivered"===t.status),e.xp6(1),e.s9C("alt",t.name),e.Q6J("src",t.image,e.LSH),e.xp6(6),e.hij("ID: ",t.supplier._id,""),e.xp6(2),e.hij("Name: ",t.supplier.name,""),e.xp6(2),e.hij("Phone: ",t.supplier.phone,""),e.xp6(2),e.hij("email: ",t.supplier.email,""),e.xp6(2),e.hij("Street: ",t.supplier.street,""),e.xp6(2),e.hij("City: ",t.supplier.city,""),e.xp6(2),e.hij("Zip: ",t.supplier.zip,""),e.xp6(6),e.hij("ID: ",t.requirement.buyer._id,""),e.xp6(2),e.hij("Name: ",t.requirement.buyer.name,""),e.xp6(2),e.hij("Phone: ",t.requirement.buyer.phone,""),e.xp6(2),e.hij("email: ",t.requirement.buyer.email,""),e.xp6(2),e.hij("Street: ",t.requirement.buyer.street,""),e.xp6(2),e.hij("City: ",t.requirement.buyer.city,""),e.xp6(2),e.hij("Zip: ",t.requirement.buyer.zip,""),e.xp6(1),e.Q6J("ngIf","Completed"===t.status),e.xp6(1),e.Q6J("ngIf","Delivered"===t.status)}}function H(n,r){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,z,49,29,"li",7),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.completedProducts)}}const L=[{path:"admin-requirements",component:v},{path:"submitted-prod-info",component:(()=>{class n{constructor(t){this.adminService=t,this.destroy$=new m.x,this.requirements=[]}ngOnInit(){this.token=localStorage.getItem("token"),this.loadProductSubmissions()}loadProductSubmissions(){this.adminService.getProductSubmissions(this.token).pipe((0,l.R)(this.destroy$)).subscribe(t=>{this.requirements=t.productSubmissions,console.log(t)})}truncateText(t,i){return t.length>i?t.substring(0,i)+"...":t}forwardSubmission(t,i,o){this.adminService.forwardProductSubmission(t,i,this.token).pipe((0,l.R)(this.destroy$)).subscribe(s=>{alert("Product submission forwarded successfully"),this.loadProductSubmissions()},s=>{this.errorMessage=`Error forwarding product submission: ${s.message}`,console.error("Error details:",s)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(a.l))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-prod-sub"]],decls:6,vars:3,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],["class","alert alert-danger text-center",4,"ngIf"],["class","text-center",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-danger","text-center"],[1,"text-center"],[1,"mt-2"],[1,"table-responsive"],[1,"table","table-striped","table-hover","align-middle"],[1,"table-dark"],[4,"ngFor","ngForOf"],["width","100",1,"img-fluid","rounded","shadow-sm",3,"src","alt"],[3,"ngSubmit"],["class","form-group",4,"ngIf"],["type","submit","class","btn btn-primary mt-2 w-100",4,"ngIf"],["class","btn btn-success mt-2 w-100",4,"ngIf"],[1,"form-group"],["name","requirementId","required","",1,"form-select",3,"id","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-primary","mt-2","w-100"],[1,"btn","btn-success","mt-2","w-100"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Submitted Product Information"),e.qZA(),e.YNc(3,A,2,1,"div",2),e.YNc(4,C,3,0,"div",3),e.YNc(5,w,18,1,"div",4),e.qZA()),2&i&&(e.xp6(3),e.Q6J("ngIf",o.errorMessage),e.xp6(1),e.Q6J("ngIf",!o.requirements.length&&!o.errorMessage),e.xp6(1),e.Q6J("ngIf",o.requirements.length))},dependencies:[c.sg,c.O5,u._Y,u.YN,u.Kr,u.EJ,u.JJ,u.JL,u.Q7,u.On,u.F,c.H9],styles:[".table[_ngcontent-%COMP%]{width:40rem;margin-bottom:1rem;color:#212529}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:max-content}th[_ngcontent-%COMP%]{white-space:nowrap;text-align:left}.table[_ngcontent-%COMP%]{table-layout:auto}@media screen and (orientation: portrait){.table[_ngcontent-%COMP%]{width:50%;font-size:small;overflow:scroll}.table-responsive[_ngcontent-%COMP%]{overflow:scroll}}"]})}return n})()},{path:"deliveries-reqs",component:(()=>{class n{constructor(t){this.deliveryService=t,this.destroy$=new m.x,this.requestedSubmissions=[],this.loading=!1,this.error=""}ngOnInit(){this.token=localStorage.getItem("token"),this.getRequestedSubmissions()}getRequestedSubmissions(){this.loading=!0,this.deliveryService.getRequestedSubmissions(this.token).pipe((0,l.R)(this.destroy$)).subscribe(t=>{this.requestedSubmissions=t,this.loading=!1,console.log(t)},t=>{this.error="Error fetching requested submissions",this.loading=!1})}confirmDelivery(t){this.deliveryService.confirmDelivery(t,this.token).pipe((0,l.R)(this.destroy$)).subscribe(i=>{this.requestedSubmissions=this.requestedSubmissions.filter(o=>o._id!==t),alert("Delivery confirmed successfully!")},i=>{this.error="Error confirming delivery"})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(a.l))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-del-reqs"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","del-req",4,"ngIf"],[1,"del-req"],[4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"click"]],template:function(i,o){1&i&&(e.YNc(0,S,2,0,"div",0),e.YNc(1,D,2,1,"div",0),e.YNc(2,k,5,1,"div",1),e.YNc(3,J,3,0,"div",0)),2&i&&(e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.error),e.xp6(1),e.Q6J("ngIf",!o.loading&&o.requestedSubmissions.length>0),e.xp6(1),e.Q6J("ngIf",!o.loading&&0===o.requestedSubmissions.length))},dependencies:[c.sg,c.O5],styles:[".component-container[_ngcontent-%COMP%]{padding:20px;background-color:#f8f9fa;border-radius:8px;box-shadow:0 0 10px #0000001a;max-width:800px;margin:0 auto}h2[_ngcontent-%COMP%]{text-align:center;color:#343a40;margin-bottom:20px}h3[_ngcontent-%COMP%]{color:#007bff;margin-top:15px;margin-bottom:10px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:20px;padding:15px;border-radius:8px;border:1px solid #dee2e6;box-shadow:0 0 5px #0000000d}p[_ngcontent-%COMP%]{margin:5px 0;color:#495057}button[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;font-size:14px;font-weight:700;color:#fff;background-color:#28a745;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#218838}.loading[_ngcontent-%COMP%]{text-align:center;font-size:18px;color:#6c757d}.error[_ngcontent-%COMP%]{text-align:center;font-size:18px;color:#dc3545}.del-req[_ngcontent-%COMP%]{width:60%;height:max-content}.del-req[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:95%}.del-req[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12rem;height:7rem;border-radius:5px;object-fit:cover}@media screen and (orientation: portrait){.del-req[_ngcontent-%COMP%]{width:87%}}"]})}return n})()},{path:"admin-deliveries",component:(()=>{class n{constructor(t){this.productService=t,this.destroy$=new m.x,this.completedProducts=[],this.loading=!0,this.error=null}ngOnInit(){this.token=localStorage.getItem("token"),this.getDelivery()}getDelivery(){this.productService.getCompletedProductsForAdmin(this.token).pipe((0,l.R)(this.destroy$)).subscribe({next:t=>{this.completedProducts=t,this.loading=!1,console.log(t)},error:t=>{this.error=t.message||"Failed to load completed products",this.loading=!1}})}updateDelivery(t,i){this.productService.updateDelivery(t,i,this.token).pipe((0,l.R)(this.destroy$)).subscribe(o=>{alert("Delivered successfully!"),this.getDelivery()},o=>{this.error="Error confirming delivery"})}truncateText(t,i){return t.length>i?t.substring(0,i)+"...":t}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(a.l))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-deliveries"]],decls:7,vars:3,consts:[[1,"component-container"],[1,"delivery"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[4,"ngIf"],[1,"loading"],[1,"error"],["class","del-prod",4,"ngFor","ngForOf"],[1,"del-prod"],[2,"text-decoration","underline",3,"routerLink"],[1,"product-image",3,"src","alt"],["class","btn-cmplt",3,"click",4,"ngIf"],["class","btn-dlvd","disabled","",4,"ngIf"],[1,"btn-cmplt",3,"click"],["disabled","",1,"btn-dlvd"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Products Deliveries"),e.qZA(),e.YNc(4,N,2,0,"div",2),e.YNc(5,F,2,1,"div",3),e.YNc(6,H,2,1,"ul",4),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",o.error),e.xp6(1),e.Q6J("ngIf",!o.loading&&!o.error))},dependencies:[c.sg,c.O5,p.rH,c.H9],styles:[".component-container[_ngcontent-%COMP%], .delivery[_ngcontent-%COMP%]{width:100%}.delivery[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-2rem}.del-prod[_ngcontent-%COMP%]{width:22%;height:15rem;display:inline-block;background-color:#fff;padding:5px;margin:0 8px 0 0;overflow-x:scroll}.del-prod[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:5rem;width:8rem;border-radius:7px;object-fit:cover}.del-prod[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:5px;padding:7px 0}.btn-cmplt[_ngcontent-%COMP%]{background-color:#16325b;color:#fff5e4}@media screen and (orientation: portrait){.delivery[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-1rem}.del-prod[_ngcontent-%COMP%]{width:50%;position:relative;left:0;margin:0;padding:0 5px;font-size:small}}"]})}return n})()}];let K=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(L),p.Bz]})}return n})(),B=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[c.ez,K,u.u5,u.UX]})}return n})()}}]);