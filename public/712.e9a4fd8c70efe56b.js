"use strict";(self.webpackChunkhmfront=self.webpackChunkhmfront||[]).push([[712],{1767:($,_,c)=>{c.d(_,{S:()=>o});var g=c(1413),d=c(6977),n=c(7705),h=c(3870),O=c(8737),e=c(5498),m=c(177),b=c(8498),u=c(9417);function x(s,r){1&s&&(n.j41(0,"div",7)(1,"div",8),n.nrm(2,"i",9),n.j41(3,"span"),n.EFF(4,"Updating Status..."),n.k0s()()())}function F(s,r){1&s&&(n.j41(0,"div",10)(1,"div",11),n.nrm(2,"i",12),n.k0s(),n.j41(3,"h3"),n.EFF(4,"No Orders Yet"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Received orders will appear here"),n.k0s()())}function y(s,r){1&s&&(n.qex(0),n.j41(1,"option",42),n.EFF(2,"Pending"),n.k0s(),n.j41(3,"option",43),n.EFF(4,"Confirmed"),n.k0s(),n.j41(5,"option",44),n.EFF(6,"In Progress"),n.k0s(),n.j41(7,"option",45),n.EFF(8,"Completed"),n.k0s(),n.j41(9,"option",46),n.EFF(10,"Cancelled"),n.k0s(),n.j41(11,"option",47),n.EFF(12,"Awaiting User Response"),n.k0s(),n.j41(13,"option",48),n.EFF(14,"Awaiting Admin Action"),n.k0s(),n.bVm())}function S(s,r){1&s&&(n.qex(0),n.j41(1,"option",49),n.EFF(2,"Pending"),n.k0s(),n.j41(3,"option",50),n.EFF(4,"Approved"),n.k0s(),n.j41(5,"option",51),n.EFF(6,"Delivered"),n.k0s(),n.j41(7,"option",52),n.EFF(8,"Cancelled"),n.k0s(),n.bVm())}function C(s,r){1&s&&n.nrm(0,"i",53)}function M(s,r){1&s&&n.nrm(0,"i",54)}const P=function(s){return["/supplier/service-orders",s]},f=function(s){return["/s/view-order",s]};function k(s,r){if(1&s){const t=n.RV6();n.j41(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),n.nrm(4,"i",19),n.j41(5,"span"),n.EFF(6),n.k0s()(),n.j41(7,"div",20),n.EFF(8),n.k0s()(),n.j41(9,"div",21)(10,"div",22)(11,"span",23),n.EFF(12),n.nI1(13,"currency"),n.k0s(),n.j41(14,"span",24),n.EFF(15),n.k0s()(),n.j41(16,"div",25),n.nrm(17,"i",26),n.j41(18,"span"),n.EFF(19),n.nI1(20,"date"),n.k0s()()()(),n.j41(21,"div",27)(22,"div",28)(23,"h4",29),n.EFF(24),n.k0s(),n.j41(25,"div",30)(26,"div",31)(27,"span",32),n.EFF(28,"Price:"),n.k0s(),n.j41(29,"span",33),n.EFF(30),n.nI1(31,"currency"),n.k0s()(),n.j41(32,"div",31)(33,"span",32),n.EFF(34,"Customer:"),n.k0s(),n.j41(35,"span",33),n.EFF(36),n.k0s()()()()(),n.j41(37,"div",34)(38,"div",35)(39,"div",36)(40,"select",37),n.bIt("ngModelChange",function(a){const l=n.eBV(t).$implicit,p=n.XpG(2);return n.Njj(p.newStatus[l._id]=a)}),n.DNE(41,y,15,0,"ng-container",38),n.DNE(42,S,9,0,"ng-container",38),n.k0s()(),n.j41(43,"button",39),n.bIt("click",function(){const v=n.eBV(t).$implicit,l=n.XpG(2);return n.Njj(l.updateStatus(v._id,null==v||null==v.user?null:v.user._id))}),n.j41(44,"span"),n.DNE(45,C,1,0,"i",40),n.DNE(46,M,1,0,"i",41),n.k0s(),n.j41(47,"span"),n.EFF(48),n.k0s()()()()()}if(2&s){const t=r.$implicit,i=n.XpG(2);n.R7$(1),n.Y8G("routerLink",i.isServiceOrder?n.eq3(28,P,t.customIdentifier):n.eq3(30,f,t.customIdentifier)),n.R7$(5),n.JRh(null==t||null==t.user?null:t.user.name),n.R7$(1),n.Y8G("ngClass","status-"+(null==t.status?null:t.status.toLowerCase())),n.R7$(1),n.SpI(" ",i.getStatusDisplay(t.status)," "),n.R7$(4),n.JRh(n.i5U(13,19,null==t?null:t.totalPrice,"INR")),n.R7$(3),n.JRh(i.isServiceOrder?(null==t||null==t.service?null:t.service.serviceName)||"Service Order":(null==t?null:t.productName)||"Product Order"),n.R7$(4),n.JRh(n.i5U(20,22,t.date,"medium")),n.R7$(2),n.Y8G("routerLink",i.isServiceOrder?n.eq3(32,P,t.customIdentifier):n.eq3(34,f,t.customIdentifier)),n.R7$(3),n.JRh(i.isServiceOrder?(null==t||null==t.service?null:t.service.serviceName)||"Service Order":(null==t?null:t.productName)||"Product Order"),n.R7$(6),n.JRh(n.i5U(31,25,null==t?null:t.price,"INR")),n.R7$(6),n.JRh((null==t||null==t.user?null:t.user.name)||"Unknown"),n.R7$(4),n.Y8G("ngModel",i.newStatus[t._id])("disabled",i.isLoading),n.R7$(1),n.Y8G("ngIf",i.isServiceOrder),n.R7$(1),n.Y8G("ngIf",!i.isServiceOrder),n.R7$(1),n.Y8G("disabled",i.isLoading),n.R7$(2),n.Y8G("ngIf",!i.isLoading),n.R7$(1),n.Y8G("ngIf",i.isLoading),n.R7$(2),n.JRh(i.isLoading?"Updating...":"Update Status")}}function R(s,r){if(1&s&&(n.j41(0,"div",13),n.DNE(1,k,49,36,"div",14),n.k0s()),2&s){const t=n.XpG();n.R7$(1),n.Y8G("ngForOf",t.orders)}}function w(s,r){if(1&s){const t=n.RV6();n.j41(0,"button",58),n.bIt("click",function(){n.eBV(t);const a=n.XpG(2);return n.Njj(a.getPlacedOrders())}),n.nrm(1,"i",59),n.j41(2,"span"),n.EFF(3,"Load More Orders"),n.k0s()()}if(2&s){const t=n.XpG(2);n.Y8G("disabled",t.isLoading)}}function j(s,r){1&s&&(n.j41(0,"div",60),n.nrm(1,"i",54),n.j41(2,"span"),n.EFF(3,"Loading more orders..."),n.k0s()())}function E(s,r){if(1&s&&(n.j41(0,"div",55),n.DNE(1,w,4,1,"button",56),n.DNE(2,j,4,0,"div",57),n.k0s()),2&s){const t=n.XpG();n.R7$(1),n.Y8G("ngIf",t.hasMoreOrders&&!t.isLoading),n.R7$(1),n.Y8G("ngIf",t.isLoading)}}let o=(()=>{class s{constructor(t,i,a){this.productService=t,this.serviceService=i,this.authService=a,this.orders=[],this.start=0,this.limit=10,this.isLoading=!1,this.hasMoreOrders=!0,this.isUpadated=!1,this.isServiceOrder=!1,this.destroy$=new g.B,this.newStatus={}}ngOnInit(){this.token=localStorage.getItem("token"),this.getPlacedOrders()}getPlacedOrders(){this.isLoading=!0,console.log("Current URL path:",window.location.pathname),this.isServiceOrder=this.authService.isSupplier()&&"/supplier/orders"===window.location.pathname,console.log("isServiceOrder:",this.isServiceOrder),this.isServiceOrder?this.serviceService.getSupplierServiceOrders(this.start,this.limit).pipe((0,d.Q)(this.destroy$)).subscribe({next:t=>{console.log("Service Orders API Response:",t),this.isLoading=!1,t?.orders&&Array.isArray(t.orders)?(this.orders=[...this.orders,...t.orders],this.start+=this.limit,this.initializeStatus(),this.hasMoreOrders=t.orders.length===this.limit,this.hasMoreOrders=this.start<t.totalOrders):(console.warn("Unexpected response structure:",t),this.hasMoreOrders=!1)},error:t=>{console.error("Error fetching orders:",t),this.isLoading=!1,this.hasMoreOrders=!1}}):this.productService.getPlacedOrders(this.start,this.limit,this.token).pipe((0,d.Q)(this.destroy$)).subscribe({next:t=>{console.log("Product Orders API Response:",t),this.isLoading=!1,t?.orders&&Array.isArray(t.orders)?(this.orders=[...this.orders,...t.orders],this.start+=this.limit,this.initializeStatus(),this.hasMoreOrders=t.orders.length===this.limit,this.hasMoreOrders=this.start<t.totalOrders):(console.warn("Unexpected response structure:",t),this.hasMoreOrders=!1)},error:t=>{console.error("Error fetching product orders:",t),this.isLoading=!1,this.hasMoreOrders=!1}})}refreshOrders(){this.isUpadated=!0,this.isLoading=!0,this.orders=[],this.start=0,this.isServiceOrder=this.authService.isSupplier()&&"/supplier/orders"===window.location.pathname,this.isServiceOrder?this.serviceService.getSupplierServiceOrders(this.start,this.limit).pipe((0,d.Q)(this.destroy$)).subscribe({next:t=>{console.log("Refresh API Response:",t),this.isLoading=!1,this.isUpadated=!1,t?.orders&&Array.isArray(t.orders)?(this.orders=t.orders,this.start=this.limit,this.initializeStatus(),this.hasMoreOrders=this.start<t.totalOrders):(console.warn("Unexpected response structure:",t),this.hasMoreOrders=!1)},error:t=>{console.error("Error refreshing orders:",t),this.isLoading=!1,this.hasMoreOrders=!1}}):this.productService.getPlacedOrders(this.start,this.limit,this.token).pipe((0,d.Q)(this.destroy$)).subscribe({next:t=>{console.log("Refresh Product Orders API Response:",t),this.isLoading=!1,this.isUpadated=!1,t?.orders&&Array.isArray(t.orders)?(this.orders=t.orders,this.start=this.limit,this.initializeStatus(),this.hasMoreOrders=this.start<t.totalOrders):(console.warn("Unexpected response structure:",t),this.hasMoreOrders=!1)},error:t=>{console.error("Error refreshing product orders:",t),this.isLoading=!1,this.hasMoreOrders=!1}})}initializeStatus(){this.orders?.length>0?this.orders.forEach(t=>{t?.status?this.newStatus[t._id]=t.status:console.warn("Order without status:",t)}):console.warn("No orders to initialize status for.")}getStatusDisplay(t){return{pending:"Pending",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",awaiting_user_response:"Awaiting User Response",awaiting_admin_action:"Awaiting Admin Action",Pending:"Pending",Approved:"Approved",Delivered:"Delivered",Cancelled:"Cancelled"}[t]||t}updateStatus(t,i){const a=this.newStatus[t];if(this.isLoading=!0,this.authService.isSupplier()&&"/supplier/orders"===window.location.pathname){const l=this.orders.find(p=>p._id===t);l&&l.customIdentifier?this.serviceService.updateServiceOrderStatus(l.customIdentifier,a).pipe((0,d.Q)(this.destroy$)).subscribe({next:p=>{console.log("Order status updated successfully",p);const I=this.orders.findIndex(z=>z._id===t);-1!==I&&(this.orders[I].status=a),this.refreshOrders()},error:p=>{console.error("Error updating order status",p),this.isLoading=!1}}):(console.error("Order not found or missing customIdentifier:",t),this.isLoading=!1)}else this.productService.updateOrderStatus(t,i,a,this.token).pipe((0,d.Q)(this.destroy$)).subscribe({next:l=>{console.log("Product order status updated successfully",l);const p=this.orders.findIndex(I=>I._id===t);-1!==p&&(this.orders[p].status=a),this.refreshOrders()},error:l=>{console.error("Error updating product order status",l),this.isLoading=!1}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||s)(n.rXU(h.g),n.rXU(O.N),n.rXU(e.u))}}static{this.\u0275cmp=n.VBU({type:s,selectors:[["app-supplier-orders-component"]],decls:10,vars:6,consts:[[1,"orders-page-container"],["class","status-update-notification",4,"ngIf"],[1,"page-header"],[1,"subtitle"],["class","empty-orders-container",4,"ngIf"],["class","orders-container",4,"ngIf"],["class","load-more-container",4,"ngIf"],[1,"status-update-notification"],[1,"notification-content"],[1,"pi","pi-sync","pi-spin"],[1,"empty-orders-container"],[1,"empty-illustration"],[1,"pi","pi-shopping-cart","empty-icon"],[1,"orders-container"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],[1,"order-header",3,"routerLink"],[1,"customer-info"],[1,"customer-name"],[1,"pi","pi-user"],[1,"order-status-badge",3,"ngClass"],[1,"order-meta"],[1,"order-price"],[1,"price-value"],[1,"item-count"],[1,"order-date"],[1,"pi","pi-calendar"],[1,"order-details",3,"routerLink"],[1,"item-details"],[1,"service-name"],[1,"service-specs"],[1,"spec-item"],[1,"spec-label"],[1,"spec-value"],[1,"order-actions"],[1,"status-update-form"],[1,"select-wrapper"],[1,"status-select",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],[1,"update-button",3,"disabled","click"],["class","pi pi-check",4,"ngIf"],["class","pi pi-spin pi-spinner",4,"ngIf"],["value","pending"],["value","confirmed"],["value","in_progress"],["value","completed"],["value","cancelled"],["value","awaiting_user_response"],["value","awaiting_admin_action"],["value","Pending"],["value","Approved"],["value","Delivered"],["value","Cancelled"],[1,"pi","pi-check"],[1,"pi","pi-spin","pi-spinner"],[1,"load-more-container"],["class","load-more-button",3,"disabled","click",4,"ngIf"],["class","loading-indicator",4,"ngIf"],[1,"load-more-button",3,"disabled","click"],[1,"pi","pi-plus"],[1,"loading-indicator"]],template:function(i,a){1&i&&(n.j41(0,"div",0),n.DNE(1,x,5,0,"div",1),n.j41(2,"div",2)(3,"h1"),n.EFF(4),n.k0s(),n.j41(5,"p",3),n.EFF(6),n.k0s()(),n.DNE(7,F,7,0,"div",4),n.DNE(8,R,2,1,"div",5),n.DNE(9,E,3,2,"div",6),n.k0s()),2&i&&(n.R7$(1),n.Y8G("ngIf",a.isUpadated),n.R7$(3),n.JRh(a.isServiceOrder?"Service Orders Received":"Product Orders"),n.R7$(2),n.SpI("Manage and update your ",a.isServiceOrder?"service":"product"," orders"),n.R7$(1),n.Y8G("ngIf",!a.orders||0===a.orders.length),n.R7$(1),n.Y8G("ngIf",a.orders&&a.orders.length>0),n.R7$(1),n.Y8G("ngIf",a.orders&&a.orders.length>0))},dependencies:[m.YU,m.Sq,m.bT,b.Wk,u.xH,u.y7,u.wz,u.BC,u.vS,m.oe,m.vh],styles:['.order-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem;width:80%;overflow:scroll}*[_ngcontent-%COMP%]{overflow:visible}.order-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ccc;border-radius:8px;padding:.5rem 1rem;background-color:#f9f9f9;height:20rem}.order-item[_ngcontent-%COMP%]{justify-content:space-between;padding:.5rem 0;border-bottom:1px solid #eee}.product-name[_ngcontent-%COMP%], .order-details[_ngcontent-%COMP%], .order-status[_ngcontent-%COMP%]{margin:0}.status-select[_ngcontent-%COMP%]{margin-top:.2rem;padding:.5rem;border:1px solid #ccc;border-radius:4px}.update-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.update-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .order-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.4rem}.order-head[_ngcontent-%COMP%]{background-color:#ebf4f6;padding:0 8px;border-radius:5px;color:#041562}.order-head2[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:0}@media (min-width: 768px){.order-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.order-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 2rem);margin:.5rem}}@media (min-width: 1024px){.order-card[_ngcontent-%COMP%]{flex:1 1 calc(33.333% - 2rem)}}@media screen and (orientation: portrait){.order-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;font-size:small;width:100%;overflow:scroll}.order-head[_ngcontent-%COMP%]{margin:0}.order-card[_ngcontent-%COMP%]{flex:1 1 calc(50% - 1rem);height:17rem;overflow:scroll}.order-status[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:small}.update-button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:small}}.loading-indicator[_ngcontent-%COMP%]{text-align:center;padding:10px;color:#2657c1;font-weight:700;margin:15px 0}.orders-page-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0;padding:1.5rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin:0 0 .5rem;color:#163172;letter-spacing:1px}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin:0}.status-update-notification[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#0000004d;z-index:999}.status-update-notification[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;background-color:#fff;padding:1.5rem 2rem;border-radius:10px;box-shadow:0 10px 20px #0000001a;border-left:4px solid #2657C1}.status-update-notification[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#2657c1}.status-update-notification[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500;color:#2657c1}.empty-orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1.5rem;text-align:center;margin:2rem auto;background-color:#f5f5f5;border-radius:10px;max-width:500px;box-shadow:0 4px 8px #0000000d}.empty-orders-container[_ngcontent-%COMP%]   .empty-illustration[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#e3f2fd;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.empty-orders-container[_ngcontent-%COMP%]   .empty-illustration[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#2196f3}.empty-orders-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin:1rem 0 .5rem}.empty-orders-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#666;font-size:1rem;line-height:1.5}.orders-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.order-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;overflow:visible;box-shadow:0 2px 10px #00000014;transition:transform .3s,box-shadow .3s;display:flex;flex-direction:column;height:auto;min-height:350px;max-height:none;border:1px solid #EBF4F6}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #0000001a}.order-header[_ngcontent-%COMP%]{padding:1.25rem;background-color:#f9fbfd;border-bottom:1px solid #EBF4F6;cursor:pointer}.order-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.order-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:#333}.order-header[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2657c1;font-size:1rem}.order-header[_ngcontent-%COMP%]   .order-status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-pending[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-approved[_ngcontent-%COMP%]{background-color:#d6e4f0;color:#2657c1}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-delivered[_ngcontent-%COMP%]{background-color:#ecffe6;color:#399918}.order-header[_ngcontent-%COMP%]   .order-status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-price[_ngcontent-%COMP%]{display:flex;flex-direction:column}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-price[_ngcontent-%COMP%]   .price-value[_ngcontent-%COMP%]{font-weight:600;color:#2657c1;font-size:1.1rem}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-price[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{font-size:.85rem;color:#757575}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#757575}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]   .order-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2657c1}.order-items-container[_ngcontent-%COMP%]{padding:1rem 1.25rem;flex:1;overflow-y:auto;max-height:200px}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]{padding:.75rem 0;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s;overflow:visible}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#333;margin:0 0 .5rem}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-label[_ngcontent-%COMP%]{font-size:.85rem;color:#757575}.order-items-container[_ngcontent-%COMP%]   .order-item[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .product-specs[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-value[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;color:#333}.order-actions[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-top:1px solid #EBF4F6;background-color:#f9fbfd;z-index:10;position:relative}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]{display:block;gap:1rem;align-items:center}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;z-index:20;margin-bottom:.3rem}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:10px;transform:translateY(-50%);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #757575;pointer-events:none}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:6px;appearance:none;background-color:#fff;color:#333;position:relative;z-index:25}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2657c1;box-shadow:0 0 0 2px #2657c11a}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:10px}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;justify-content:center;padding:.75rem 1.25rem;background-color:#2657c1;color:#fff;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease;margin-top:0;gap:1rem}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin:0;width:max-content}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]:hover{background-color:#1e4496}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]:disabled{background-color:#a0a0a0;cursor:not-allowed}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2rem 0}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.5rem;background-color:#f9fbfd;color:#2657c1;border:1px solid #2657C1;border-radius:6px;font-weight:500;cursor:pointer;transition:all .2s ease}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin:0;width:max-contentx}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:hover{background-color:#2657c1;color:#fff}.load-more-container[_ngcontent-%COMP%]   .load-more-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;color:#a0a0a0;border-color:#ddd;cursor:not-allowed}.load-more-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#2657c1;font-weight:500}.load-more-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;margin:0;width:max-contentx}.load-more-container[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:max-content}@media (max-width: 992px){.orders-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}}@media (max-width: 768px){.orders-page-container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.orders-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(100%,1fr))}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.order-actions[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .update-button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.9rem}.order-header[_ngcontent-%COMP%]{padding:1rem}.order-header[_ngcontent-%COMP%]   .order-meta[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.order-items-container[_ngcontent-%COMP%], .order-actions[_ngcontent-%COMP%]{padding:1rem}}']})}}return s})()},7783:($,_,c)=>{c.r(_),c.d(_,{SupplierServiceOrdersModule:()=>E});var g=c(177),d=c(9417),n=c(8498),h=c(1413),O=c(6977),e=c(7705),m=c(8737),b=c(5498);function u(o,s){1&o&&(e.j41(0,"div",4)(1,"div",5),e.nrm(2,"i",6),e.j41(3,"p"),e.EFF(4,"Loading order details..."),e.k0s()()())}function x(o,s){if(1&o){const r=e.RV6();e.j41(0,"div",7)(1,"div",8),e.nrm(2,"i",9),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"button",10),e.bIt("click",function(){e.eBV(r);const i=e.XpG();return e.Njj(i.goBack())}),e.EFF(6,"Go Back"),e.k0s()()()}if(2&o){const r=e.XpG();e.R7$(4),e.JRh(r.error)}}function F(o,s){if(1&o&&(e.j41(0,"div",45)(1,"h4"),e.EFF(2,"Additional Notes"),e.k0s(),e.j41(3,"p"),e.EFF(4),e.k0s()()),2&o){const r=e.XpG(2);e.R7$(4),e.JRh(r.order.notes)}}function y(o,s){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const r=s.$implicit;e.Y8G("value",r.value),e.R7$(1),e.SpI(" ",r.label," ")}}function S(o,s){if(1&o){const r=e.RV6();e.j41(0,"div",46)(1,"h3"),e.EFF(2,"Update Order Status"),e.k0s(),e.j41(3,"div",47)(4,"div",48)(5,"label",49),e.EFF(6,"Current Status:"),e.k0s(),e.j41(7,"select",50),e.bIt("ngModelChange",function(i){e.eBV(r);const a=e.XpG(2);return e.Njj(a.selectedStatus=i)})("change",function(){e.eBV(r);const i=e.XpG(2);return e.Njj(i.updateOrderStatus(i.selectedStatus))}),e.DNE(8,y,2,2,"option",51),e.k0s()()()()}if(2&o){const r=e.XpG(2);e.R7$(7),e.Y8G("ngModel",r.selectedStatus),e.R7$(1),e.Y8G("ngForOf",r.statusOptions)}}function C(o,s){if(1&o&&(e.j41(0,"div",55)(1,"div",56)(2,"span",57),e.EFF(3),e.k0s(),e.j41(4,"span",58),e.EFF(5),e.k0s(),e.j41(6,"span",59),e.EFF(7),e.k0s()(),e.j41(8,"div",60),e.EFF(9),e.k0s()()),2&o){const r=s.$implicit,t=e.XpG(3);e.R7$(3),e.JRh((null==r.sender?null:r.sender.name)||"Unknown"),e.R7$(2),e.SpI("(",r.role,")"),e.R7$(2),e.JRh(t.formatDate(r.timestamp)),e.R7$(2),e.JRh(r.message)}}function M(o,s){if(1&o&&(e.j41(0,"div",53),e.DNE(1,C,10,4,"div",54),e.k0s()),2&o){const r=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",r.order.conversation)}}function P(o,s){1&o&&(e.j41(0,"div",61),e.nrm(1,"i",62),e.j41(2,"p"),e.EFF(3,"No conversation yet. Start the conversation by sending a message."),e.k0s()())}function f(o,s){if(1&o){const r=e.RV6();e.j41(0,"div",63)(1,"div",64)(2,"textarea",65),e.bIt("ngModelChange",function(i){e.eBV(r);const a=e.XpG(2);return e.Njj(a.newMessage=i)})("keyup.enter",function(){e.eBV(r);const i=e.XpG(2);return e.Njj(i.addMessage())}),e.k0s(),e.j41(3,"div",66)(4,"button",67),e.bIt("click",function(){e.eBV(r);const i=e.XpG(2);return e.Njj(i.addMessage())}),e.nrm(5,"i",68),e.EFF(6," Send Message "),e.k0s()()()()}if(2&o){const r=e.XpG(2);e.R7$(2),e.Y8G("ngModel",r.newMessage),e.R7$(2),e.Y8G("disabled",!r.newMessage.trim())}}function k(o,s){if(1&o){const r=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"button",13),e.bIt("click",function(){e.eBV(r);const i=e.XpG();return e.Njj(i.goBack())}),e.nrm(3,"i",14),e.EFF(4," Back to Orders "),e.k0s(),e.j41(5,"div",15)(6,"h1"),e.EFF(7,"Service Order Details"),e.k0s(),e.j41(8,"span",16),e.EFF(9),e.k0s()()(),e.j41(10,"div",17)(11,"div",18)(12,"div",19),e.EFF(13),e.k0s(),e.j41(14,"div",20),e.nrm(15,"i",21),e.j41(16,"span"),e.EFF(17),e.nI1(18,"date"),e.k0s()()(),e.j41(19,"div",22)(20,"div",23)(21,"span",24),e.EFF(22,"Total Amount:"),e.k0s(),e.j41(23,"span",25),e.EFF(24),e.nI1(25,"currency"),e.k0s()()()(),e.j41(26,"div",26)(27,"h3"),e.EFF(28,"Customer Information"),e.k0s(),e.j41(29,"div",27)(30,"div",28),e.nrm(31,"i",29),e.j41(32,"div")(33,"strong"),e.EFF(34),e.k0s(),e.j41(35,"p"),e.EFF(36),e.k0s()()(),e.j41(37,"div",28),e.nrm(38,"i",30),e.j41(39,"div")(40,"strong"),e.EFF(41),e.k0s(),e.j41(42,"p"),e.EFF(43,"Contact"),e.k0s()()(),e.j41(44,"div",28),e.nrm(45,"i",31),e.j41(46,"div")(47,"strong"),e.EFF(48),e.k0s(),e.j41(49,"p"),e.EFF(50,"Address"),e.k0s()()()()(),e.j41(51,"div",32)(52,"h3"),e.EFF(53,"Service Information"),e.k0s(),e.j41(54,"div",33)(55,"div",34)(56,"div",35),e.nrm(57,"i",36),e.j41(58,"div")(59,"strong"),e.EFF(60),e.k0s(),e.j41(61,"p"),e.EFF(62,"Service"),e.k0s()()()(),e.j41(63,"div",34)(64,"div",37),e.nrm(65,"i",38),e.j41(66,"div")(67,"strong"),e.EFF(68),e.nI1(69,"currency"),e.k0s(),e.j41(70,"p"),e.EFF(71,"Service Price"),e.k0s()()()()(),e.DNE(72,F,5,1,"div",39),e.k0s(),e.DNE(73,S,9,2,"div",40),e.j41(74,"div",41)(75,"h3"),e.EFF(76,"Conversation"),e.k0s(),e.DNE(77,M,2,1,"div",42),e.DNE(78,P,4,0,"div",43),e.DNE(79,f,7,2,"div",44),e.k0s()()}if(2&o){const r=e.XpG();e.R7$(9),e.SpI("Order ID: ",r.order.customIdentifier,""),e.R7$(3),e.Y8G("ngClass","status-"+(null==r.order.status?null:r.order.status.toLowerCase())),e.R7$(1),e.SpI(" ",r.getStatusDisplay(r.order.status)," "),e.R7$(4),e.JRh(e.i5U(18,16,r.order.date,"medium")),e.R7$(7),e.JRh(e.i5U(25,19,r.order.totalPrice,"INR")),e.R7$(10),e.JRh(null==r.order.user?null:r.order.user.name),e.R7$(2),e.JRh(null==r.order.customerInfo?null:r.order.customerInfo.email),e.R7$(5),e.JRh(null==r.order.customerInfo?null:r.order.customerInfo.phone),e.R7$(7),e.JRh(null==r.order.customerInfo?null:r.order.customerInfo.address),e.R7$(12),e.JRh(null==r.order.service?null:r.order.service.serviceName),e.R7$(8),e.JRh(e.i5U(69,22,r.order.price,"INR")),e.R7$(4),e.Y8G("ngIf",r.order.notes),e.R7$(1),e.Y8G("ngIf",r.isOwnOrder),e.R7$(4),e.Y8G("ngIf",r.order.conversation&&r.order.conversation.length>0),e.R7$(1),e.Y8G("ngIf",!r.order.conversation||0===r.order.conversation.length),e.R7$(1),e.Y8G("ngIf",r.isOwnOrder)}}const w=[{path:":customIdentifier",component:(()=>{class o{constructor(r,t,i,a){this.route=r,this.router=t,this.serviceService=i,this.authService=a,this.destroy$=new h.B,this.order=null,this.isLoading=!1,this.error="",this.isOwnOrder=!1,this.newMessage="",this.selectedStatus="",this.statusOptions=[{value:"pending",label:"Pending",icon:"schedule"},{value:"confirmed",label:"Confirmed",icon:"check_circle"},{value:"in_progress",label:"In Progress",icon:"sync"},{value:"completed",label:"Completed",icon:"done"},{value:"cancelled",label:"Cancelled",icon:"cancel"},{value:"awaiting_user_response",label:"Awaiting User Response",icon:"person_outline"},{value:"awaiting_admin_action",label:"Awaiting Admin Action",icon:"admin_panel_settings"}]}ngOnInit(){const r=this.route.snapshot.paramMap.get("customIdentifier");r?this.loadOrder(r):this.error="Order customIdentifier not provided"}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadOrder(r){this.isLoading=!0,this.error="",this.serviceService.getSupplierServiceOrderById(r).pipe((0,O.Q)(this.destroy$)).subscribe({next:t=>{this.isLoading=!1,t.success&&t.order?(this.order=t.order,this.isOwnOrder=this.order.supplier?._id===this.authService.getUserId(),this.isOwnOrder?this.selectedStatus=this.order.status:(this.error="You are not authorized to view this order.",this.order=null)):this.error=t.message||"Failed to load order"},error:t=>{this.isLoading=!1,this.error="Failed to load order. Please try again.",console.error("Error loading order:",t)}})}updateOrderStatus(r){this.order&&this.serviceService.updateServiceOrderStatus(this.order.customIdentifier,r).pipe((0,O.Q)(this.destroy$)).subscribe({next:t=>{t.success&&(this.order.status=r,this.selectedStatus=r)},error:t=>{console.error("Error updating order status:",t)}})}goBack(){this.router.navigate(["/supplier/orders"])}getStatusDisplay(r){return{pending:"Pending",confirmed:"Confirmed",in_progress:"In Progress",completed:"Completed",cancelled:"Cancelled",awaiting_user_response:"Awaiting User Response",awaiting_admin_action:"Awaiting Admin Action"}[r]||r}addMessage(){if(!this.newMessage.trim()||!this.order)return;const r={message:this.newMessage};this.selectedStatus&&this.selectedStatus!==this.order.status&&(r.newStatus=this.selectedStatus),this.serviceService.addMessageToServiceOrder(this.order.customIdentifier,r).pipe((0,O.Q)(this.destroy$)).subscribe({next:t=>{t.success&&(this.loadOrder(this.order.customIdentifier),this.newMessage="",this.selectedStatus="")},error:t=>{console.error("Error adding message:",t)}})}formatDate(r){const t=new Date(r);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}static{this.\u0275fac=function(t){return new(t||o)(e.rXU(n.nX),e.rXU(n.Ix),e.rXU(m.N),e.rXU(b.u))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-supplier-service-order"]],decls:4,vars:3,consts:[[1,"service-order-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","order-details",4,"ngIf"],[1,"loading-container"],[1,"loading-spinner"],[1,"pi","pi-spin","pi-spinner"],[1,"error-container"],[1,"error-message"],[1,"pi","pi-exclamation-triangle"],[1,"btn","btn-secondary",3,"click"],[1,"order-details"],[1,"order-header"],[1,"btn","btn-outline",3,"click"],[1,"pi","pi-arrow-left"],[1,"order-title"],[1,"order-id"],[1,"order-summary"],[1,"status-section"],[1,"status-badge",3,"ngClass"],[1,"order-date"],[1,"pi","pi-calendar"],[1,"amount-section"],[1,"total-amount"],[1,"amount-label"],[1,"amount-value"],[1,"customer-info-section"],[1,"customer-details"],[1,"customer-item"],[1,"pi","pi-user"],[1,"pi","pi-phone"],[1,"pi","pi-map-marker"],[1,"service-info-section"],[1,"service-details"],[1,"service-item"],[1,"service-name"],[1,"pi","pi-briefcase"],[1,"service-price"],[1,"pi","pi-money-bill"],["class","notes-section",4,"ngIf"],["class","status-management",4,"ngIf"],[1,"conversation-section"],["class","conversation-messages",4,"ngIf"],["class","no-messages",4,"ngIf"],["class","message-input-container",4,"ngIf"],[1,"notes-section"],[1,"status-management"],[1,"status-update-form"],[1,"status-selector"],["for","status"],["id","status",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"conversation-messages"],["class","message",4,"ngFor","ngForOf"],[1,"message"],[1,"message-header"],[1,"message-sender"],[1,"message-role"],[1,"message-time"],[1,"message-content"],[1,"no-messages"],[1,"pi","pi-chat-bubble-outline"],[1,"message-input-container"],[1,"message-input-wrapper"],["rows","3","maxlength","500","placeholder","Type your message here...",1,"message-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"message-actions"],[1,"btn","btn-primary","send-button",3,"disabled","click"],[1,"pi","pi-send"]],template:function(t,i){1&t&&(e.j41(0,"div",0),e.DNE(1,u,5,0,"div",1),e.DNE(2,x,7,1,"div",2),e.DNE(3,k,80,25,"div",3),e.k0s()),2&t&&(e.R7$(1),e.Y8G("ngIf",i.isLoading),e.R7$(1),e.Y8G("ngIf",i.error&&!i.isLoading),e.R7$(1),e.Y8G("ngIf",i.order&&!i.isLoading&&!i.error))},dependencies:[g.YU,g.Sq,g.bT,d.xH,d.y7,d.me,d.wz,d.BC,d.tU,d.vS,g.oe,g.vh],styles:[".service-order-container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px;flex-direction:column}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{text-align:center}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:#007bff}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;margin-bottom:1rem}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:.25rem;cursor:pointer;text-decoration:none;display:inline-block}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover, .service-order-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover, .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover, .service-order-container[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.service-order-container[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem}.service-order-container[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background-color:#f8f9fa;border:1px solid #dee2e6;border-radius:.25rem;color:#495057;text-decoration:none;font-weight:500}.service-order-container[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.service-order-container[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{flex:1}.service-order-container[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:2rem}.service-order-container[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-top:.25rem}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f8f9fa;padding:1.5rem;border-radius:.5rem;margin-bottom:2rem}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:1rem;font-size:.9rem;font-weight:500;text-transform:uppercase}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-pending[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-confirmed[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-in_progress[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-completed[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-cancelled[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-awaiting_user_response[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-badge.status-awaiting_admin_action[_ngcontent-%COMP%]{background-color:#e2e3e5;color:#383d41}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .order-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:#666}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .order-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .amount-section[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{text-align:right}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .amount-section[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{display:block;color:#666;font-size:.9rem}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .amount-section[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#007bff}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dee2e6;border-radius:.5rem;padding:1.5rem;margin-bottom:2rem}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007bff;padding-bottom:.5rem}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .service-details[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .service-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1;min-width:250px}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#007bff;width:2rem;text-align:center}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#333}.service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .customer-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-info-section[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.service-order-container[_ngcontent-%COMP%]   .notes-section[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:#f8f9fa;border-radius:.25rem}.service-order-container[_ngcontent-%COMP%]   .notes-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:#333}.service-order-container[_ngcontent-%COMP%]   .notes-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#555;line-height:1.5}.service-order-container[_ngcontent-%COMP%]   .status-management[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dee2e6;border-radius:.5rem;padding:1.5rem}.service-order-container[_ngcontent-%COMP%]   .status-management[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007bff;padding-bottom:.5rem}.service-order-container[_ngcontent-%COMP%]   .status-management[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.service-order-container[_ngcontent-%COMP%]   .status-management[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ced4da;border-radius:.25rem;font-size:1rem}.service-order-container[_ngcontent-%COMP%]   .status-management[_ngcontent-%COMP%]   .status-update-form[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dee2e6;border-radius:.5rem;padding:1.5rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007bff;padding-bottom:.5rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;margin-bottom:2rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-bottom:1rem;padding:1rem;background-color:#f8f9fa;border-radius:.5rem;border-left:4px solid #007bff}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:.5rem;font-size:.9rem;color:#666}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]{font-weight:500;color:#333}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-role[_ngcontent-%COMP%]{color:#007bff;font-style:italic}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#999;font-size:.8rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .conversation-messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{color:#333;line-height:1.5;white-space:pre-wrap}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#666}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .no-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-style:italic}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;padding-top:1rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-end}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid #ced4da;border-radius:.25rem;font-family:inherit;font-size:.9rem;resize:vertical;min-height:80px}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1rem;border:none;border-radius:.25rem;cursor:pointer;font-size:.9rem;display:flex;align-items:center;gap:.5rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-container[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;cursor:not-allowed}@media (max-width: 768px){.service-order-container[_ngcontent-%COMP%]{padding:1rem}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .amount-section[_ngcontent-%COMP%]{width:100%}.service-order-container[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]   .amount-section[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{text-align:left}.service-order-container[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-details[_ngcontent-%COMP%]{flex-direction:column}.service-order-container[_ngcontent-%COMP%]   .customer-item[_ngcontent-%COMP%], .service-order-container[_ngcontent-%COMP%]   .service-item[_ngcontent-%COMP%]{min-width:auto}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{width:100%}.service-order-container[_ngcontent-%COMP%]   .conversation-section[_ngcontent-%COMP%]   .message-input-wrapper[_ngcontent-%COMP%]   .message-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}}"]})}}return o})()},{path:"",redirectTo:"/supplier/orders",pathMatch:"full"}];let j=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[n.iI.forChild(w),n.iI]})}}return o})(),E=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[g.MD,d.YN,j]})}}return o})()},712:($,_,c)=>{c.r(_),c.d(_,{SupplierModule:()=>E});var g=c(177),d=c(8498),n=c(1767),h=c(1413),O=c(6977),e=c(7705),m=c(3870),b=c(9213);function u(o,s){if(1&o&&(e.j41(0,"div",13)(1,"div",14)(2,"mat-icon"),e.EFF(3,"shopping_cart"),e.k0s()(),e.j41(4,"div",15)(5,"h3"),e.EFF(6,"Orders Received"),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.k0s()()()),2&o){const r=e.XpG();e.R7$(8),e.JRh(r.order.totalOrders)}}function x(o,s){if(1&o&&(e.j41(0,"div",17)(1,"div",14)(2,"mat-icon"),e.EFF(3,"check_circle"),e.k0s()(),e.j41(4,"div",15)(5,"h3"),e.EFF(6,"Delivered"),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.k0s()()()),2&o){const r=e.XpG();e.R7$(8),e.JRh(r.order.deliveredOrders)}}function F(o,s){if(1&o&&(e.j41(0,"div",18)(1,"div",14)(2,"mat-icon"),e.EFF(3,"monetization_on"),e.k0s()(),e.j41(4,"div",15)(5,"h3"),e.EFF(6,"Total Sales"),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.k0s()()()),2&o){const r=e.XpG();e.R7$(8),e.JRh(r.order.deliveredOrders)}}function y(o,s){if(1&o&&(e.j41(0,"div",19)(1,"div",14)(2,"mat-icon"),e.EFF(3,"inventory_2"),e.k0s()(),e.j41(4,"div",15)(5,"h3"),e.EFF(6,"Total Items"),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.k0s()()()),2&o){const r=e.XpG();e.R7$(8),e.JRh(r.products.count)}}let S=(()=>{class o{constructor(r){this.supplyService=r,this.destroy$=new h.B}ngOnInit(){this.token=localStorage.getItem("token"),this.getOrdersCount(),this.getProductsCount()}getOrdersCount(){this.supplyService.getOrdersCount(this.token).pipe((0,O.Q)(this.destroy$)).subscribe(r=>{this.order=r})}getProductsCount(){this.supplyService.getProductsCount(this.token).pipe((0,O.Q)(this.destroy$)).subscribe(r=>{this.products=r})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||o)(e.rXU(m.g))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-supplier"]],decls:35,vars:4,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"stats-grid"],["class","stat-card orders-received","routerLink","/supplier/more/orders-recieved","style","cursor: pointer;",4,"ngIf"],["class","stat-card orders-delivered","routerLink","/supplier/more/orders-delivered","style","cursor: pointer;",4,"ngIf"],["class","stat-card total-sales","routerLink","/supplier/more/orders-delivered","style","cursor: pointer;",4,"ngIf"],["class","stat-card total-items","routerLink","/supplier/more/allitems","style","cursor: pointer;",4,"ngIf"],[1,"actions-section"],[1,"actions-grid"],["routerLink","/supplier/more/product/add",1,"action-card","sell"],["routerLink","/supplier/more/allitems",1,"action-card","inventory"],["routerLink","/supplier/more/orders-recieved",1,"action-card","orders"],["routerLink","/supplier/more/orders-delivered",1,"action-card","analytics"],["routerLink","/supplier/more/orders-recieved",1,"stat-card","orders-received",2,"cursor","pointer"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],["routerLink","/supplier/more/orders-delivered",1,"stat-card","orders-delivered",2,"cursor","pointer"],["routerLink","/supplier/more/orders-delivered",1,"stat-card","total-sales",2,"cursor","pointer"],["routerLink","/supplier/more/allitems",1,"stat-card","total-items",2,"cursor","pointer"]],template:function(t,i){1&t&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Supplier Dashboard"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Overview of your business performance"),e.k0s()(),e.j41(6,"div",2),e.DNE(7,u,9,1,"div",3),e.DNE(8,x,9,1,"div",4),e.DNE(9,F,9,1,"div",5),e.DNE(10,y,9,1,"div",6),e.k0s(),e.j41(11,"div",7)(12,"h2"),e.EFF(13,"Quick Actions"),e.k0s(),e.j41(14,"div",8)(15,"div",9)(16,"mat-icon"),e.EFF(17,"add_box"),e.k0s(),e.j41(18,"span"),e.EFF(19,"Sell New Product"),e.k0s()(),e.j41(20,"div",10)(21,"mat-icon"),e.EFF(22,"list_alt"),e.k0s(),e.j41(23,"span"),e.EFF(24,"Manage Inventory"),e.k0s()(),e.j41(25,"div",11)(26,"mat-icon"),e.EFF(27,"receipt_long"),e.k0s(),e.j41(28,"span"),e.EFF(29,"Recent Orders"),e.k0s()(),e.j41(30,"div",12)(31,"mat-icon"),e.EFF(32,"insights"),e.k0s(),e.j41(33,"span"),e.EFF(34,"Sales History"),e.k0s()()()()()),2&t&&(e.R7$(7),e.Y8G("ngIf",i.order),e.R7$(1),e.Y8G("ngIf",i.order),e.R7$(1),e.Y8G("ngIf",i.order),e.R7$(1),e.Y8G("ngIf",i.products))},dependencies:[g.bT,d.Wk,b.An],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto;font-family:Inter,sans-serif;--bg-main: #f8fafc;--bg-card: #ffffff;--text-main: #0f172a;--text-muted: #64748b;--border-light: #e2e8f0;--accent-color: #3b82f6;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 12px rgba(0, 0, 0, .05)}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:800;color:var(--text-main);letter-spacing:-.025em;margin-bottom:.5rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1.1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.5rem;margin-bottom:3.5rem}.stat-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border-light);border-radius:1rem;padding:1.5rem;display:flex;align-items:center;gap:1.25rem;box-shadow:var(--shadow-sm);transition:all .3s cubic-bezier(.4,0,.2,1)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-md);border-color:var(--accent-color)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center;background:#f1f5f9;color:var(--text-main)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.75rem;width:1.75rem;height:1.75rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:.25rem}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:var(--text-main);margin:0}.stat-card.orders-received[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#8b5cf6;background:#f5f3ff}.stat-card.orders-delivered[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#10b981;background:#ecfdf5}.stat-card.total-sales[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#f59e0b;background:#fffbeb}.stat-card.total-items[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#3b82f6;background:#eff6ff}.actions-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--text-main);margin-bottom:1.5rem;padding-bottom:.75rem;border-bottom:2px solid var(--border-light)}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.25rem}.action-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border-light);border-radius:.75rem;padding:1.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1rem;cursor:pointer;transition:all .2s ease;box-shadow:var(--shadow-sm)}.action-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2.25rem;width:2.25rem;height:2.25rem;color:var(--accent-color)}.action-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-main)}.action-card[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:var(--accent-color);box-shadow:var(--shadow-md);transform:translateY(-2px)}.action-card.sell[_ngcontent-%COMP%]{background:var(--text-main);border-color:var(--text-main)}.action-card.sell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .action-card.sell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.action-card.sell[_ngcontent-%COMP%]:hover{background:#1e293b;opacity:.9}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:1.5rem 1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:1rem}.stat-card[_ngcontent-%COMP%]{padding:1rem;gap:.75rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:2.75rem;height:2.75rem}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.25rem}.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;gap:.75rem}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return o})();var C=c(1620),M=c(5458);const P=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:S},{path:"orders",component:n.S},{path:"service-orders",loadChildren:()=>Promise.resolve().then(c.bind(c,7783)).then(o=>o.SupplierServiceOrdersModule),canActivate:[C.q,M.K],data:{role:"supplier"}},{path:"more",loadChildren:()=>Promise.all([c.e(109),c.e(5649)]).then(c.bind(c,5649)).then(o=>o.MoreModule),canActivate:[C.q,M.K],data:{role:"supplier"}},{path:"req-sup",loadChildren:()=>c.e(8018).then(c.bind(c,8018)).then(o=>o.ReqSupModule),canActivate:[C.q,M.K],data:{role:"supplier"}}];let f=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(P),d.iI]})}}return o})();var k=c(5619),R=c(9417),w=c(3887),j=c(7783);let E=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[k.o],imports:[g.MD,f,R.YN,w.SharedModule,j.SupplierServiceOrdersModule]})}}return o})()}}]);